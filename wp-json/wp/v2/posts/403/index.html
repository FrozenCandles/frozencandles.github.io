{"id":403,"date":"2022-06-25T23:35:56","date_gmt":"2022-06-25T15:35:56","guid":{"rendered":"http:\/\/localhost:8000\/wordpress\/?p=403"},"modified":"2022-07-14T23:15:47","modified_gmt":"2022-07-14T15:15:47","slug":"%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c02-%e5%ba%94%e7%94%a8%e5%b1%82%e6%a6%82%e8%a7%88","status":"publish","type":"post","link":"http:\/\/localhost:8000\/wordpress\/archives\/403","title":{"rendered":"\u8ba1\u7b97\u673a\u7f51\u7edc02-\u5e94\u7528\u5c42\u6982\u89c8\u4e0eSMTP\u7535\u5b50\u90ae\u4ef6\u53d1\u9001"},"content":{"rendered":"\n<h2>\u5e94\u7528\u5c42\u534f\u8bae\u539f\u7406<\/h2>\n\n<h3>\u5e94\u7528\u7a0b\u5e8f\u4f53\u7cfb\u7ed3\u6784<\/h3>\n\n<p>\u5e94\u7528\u5c42\u662f\u8ba1\u7b97\u673a\u7f51\u7edc\u7ed3\u6784\u4f53\u7cfb\u7684\u6700\u9876\u5c42\uff0c\u4e5f\u662f\u8ba1\u7b97\u673a\u7f51\u7edc\u6700\u7ec8\u7684\u53d1\u5c55\u76ee\u7684\u3002\u8ba1\u7b97\u673a\u7f51\u7edc\u7684\u5176\u4f59\u4f53\u7cfb\u7ed3\u6784\u4e3b\u8981\u90fd\u662f\u4e3a\u5e94\u7528\u5c42\u63d0\u4f9b\u6b63\u5e38\u8fd0\u4f5c\u6240\u9700\u7684\u670d\u52a1\u800c\u5efa\u7acb\u7684\u3002<\/p>\n\n<p>\u5e94\u7528\u5c42\u4e3b\u8981\u901a\u8fc7\u5e94\u7528\u7a0b\u5e8f\u7684\u4ea4\u4e92\u6765\u5b9e\u73b0\u7f51\u7edc\u5e94\u7528\uff0c\u5176\u6838\u5fc3\u662f\u7f16\u5199\u80fd\u591f\u8fd0\u884c\u5728\u4e0d\u540c\u7684\u7aef\u7cfb\u7edf\u548c\u901a\u8fc7\u7f51\u7edc\u5f7c\u6b64\u901a\u4fe1\u7684\u7a0b\u5e8f\u3002\u56e0\u6b64\u8fd9\u4e00\u7ae0\u5185\u5bb9\u57fa\u672c\u53ea\u6d89\u53ca\u8f6f\u4ef6\u65b9\u9762\u7684\u5e94\u7528\u3002<\/p>\n\n<p>\u5e94\u7528\u7a0b\u5e8f\u4f53\u7cfb\u7ed3\u6784\u7531\u7814\u53d1\u8005\u89c4\u5b9a\u5982\u4f55\u5728\u5404\u79cd\u7aef\u7cfb\u7edf\u4e0a\u7ec4\u7ec7\u6765\u81ea\u591a\u65b9\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\u76ee\u524d\u6765\u8bf4\u6709\u4e24\u79cd\u4e3b\u8981\u7684\u4f53\u7cfb\u7ed3\u6784\uff1a<\/p>\n\n<p><strong>\u5ba2\u6237-\u670d\u52a1\u5668\u4f53\u7cfb\u7ed3\u6784<\/strong>(client-server architecture)\u4e2d\u603b\u662f\u6253\u5f00\u7684\u4e3b\u673a\u79f0\u4e3a<strong>\u670d\u52a1\u5668<\/strong>\uff0c\u5b83\u5904\u7406\u8bb8\u591a<strong>\u5ba2\u6237<\/strong>\u7684\u8bf7\u6c42\u3002\u8be5\u4f53\u7cfb\u7ed3\u6784\u4e2d\u5ba2\u6237\u7aef\u4e4b\u95f4\u4e0d\u76f4\u63a5\u901a\u4fe1\u3002\u4f8b\u5982\uff0c\u5927\u578b\u6e38\u620f\u9700\u8981\u6709\u6e38\u620f\u670d\u52a1\u5668\u6765\u8bb0\u5f55\u73a9\u5bb6\u6570\u636e\uff1b\u89c6\u9891\u7f51\u7ad9\u9700\u8981\u6709\u8d44\u6e90\u670d\u52a1\u5668\u6765\u5411\u7528\u6237\u63d0\u4f9b\u89c6\u9891\u3002<\/p>\n\n<p><strong>P2P\u4f53\u7cfb\u7ed3\u6784<\/strong>(Peer-to-Peer architecture)\u4e2d\uff0c\u5e94\u7528\u7a0b\u5e8f\u5728\u95f4\u65ad\u8fde\u63a5\u7684<strong>\u5bf9\u7b49\u65b9<\/strong>\u4e3b\u673a\u5bf9\u4e4b\u95f4\u4f7f\u7528\u76f4\u63a5\u901a\u4fe1\uff0c\u8fd9\u79cd\u5bf9\u7b49\u65b9\u901a\u4fe1\u4e0d\u9700\u8981\u901a\u8fc7\u4e13\u95e8\u7684\u670d\u52a1\u5668\u3002\u4f8b\u5982\uff0c\u4e00\u4e9b\u5c0f\u578b\u6e38\u620f\u53ef\u4ee5\u76f4\u63a5\u5728\u4e24\u53f0\u4e3b\u673a\u95f4\u8fde\u63a5\uff0c\u800c\u65e0\u9700\u670d\u52a1\u5668\u7684\u5b58\u5728\u3002<\/p>\n\n<p>\u4e0b\u56fe\u5c55\u793a\u4e86\u8fd9\u4e24\u79cd\u5e94\u7528\u7a0b\u5e8f\u4f53\u7cfb\u7ed3\u6784\u7684\u533a\u522b\uff1a<\/p>\n\n<figure>\n    <img decoding=\"async\" src=\"http:\/\/localhost:8000\/wordpress\/wp-content\/uploads\/2022\/06\/02-program-architecture.jpg\" alt=\"\" width=\"840\">\n    <figcaption>\u5ba2\u6237-\u670d\u52a1\u5668\u4f53\u7cfb\u7ed3\u6784\u4e0eP2P\u4f53\u7cfb\u7ed3\u6784<\/figcaption>\n<\/figure>\n\n<p>\u5728\u5ba2\u6237-\u670d\u52a1\u5668\u4f53\u7cfb\u7ed3\u6784\u4e2d\uff0c\u4e00\u53f0\u670d\u52a1\u5668\u5f80\u5f80\u8981\u540c\u65f6\u63a5\u6536\u5e76\u5904\u7406\u591a\u4e2a\u5ba2\u6237\u7684\u8bf7\u6c42\uff0c\u4e3a\u4e86\u907f\u514d\u5355\u53f0\u670d\u52a1\u5668\u6027\u80fd\u4e0d\u8db3\u7684\u95ee\u9898\uff0c\u5927\u578b\u4e92\u8054\u7f51\u670d\u52a1\u5f80\u5f80\u4f7f\u7528\u8ba1\u7b97\u673a\u96c6\u7fa4\u6784\u5efa\u4e00\u4e2a\u5f3a\u5927\u7684\u865a\u62df\u670d\u52a1\u5668\u3002\u800c P2P \u4f53\u7cfb\u7ed3\u6784\u5219\u4e0d\u5b58\u5728\u8be5\u95ee\u9898\uff0c\u670d\u52a1\u968f\u7740\u89c4\u6a21\u7684\u6269\u5927\uff0c\u5bf9\u7b49\u65b9\u4e2d\u670d\u52a1\u7684\u63d0\u4f9b\u8005\u4e5f\u4f1a\u968f\u4e4b\u589e\u52a0\u3002<\/p>\n\n<h3>\u8fdb\u7a0b\u901a\u4fe1<\/h3>\n\n<p>\u5728\u5e94\u7528\u5c42\u4e2d\uff0c\u8fdb\u884c\u901a\u4fe1\u7684\u5b9e\u9645\u4e0a\u662f<strong>\u8fdb\u7a0b<\/strong>(process)\uff0c\u591a\u4e2a\u8fdb\u7a0b\u8fd0\u884c\u5728\u76f8\u540c\u7684\u7aef\u7cfb\u7edf\u4e0a\u65f6\uff0c\u5b83\u4eec\u4f7f\u7528\u64cd\u4f5c\u7cfb\u7edf\u89c4\u5b9a\u7684\u8fdb\u7a0b\u8fdb\u7a0b\u901a\u4fe1\u673a\u5236\u76f8\u4e92\u901a\u4fe1\u3002<\/p>\n\n<blockquote>\n    <p>\u8fdb\u7a0b\u662f\u7a0b\u5e8f\u7684\u8f7d\u4f53\u3002\u7a0b\u5e8f\u5728\u6267\u884c\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u4e3a\u5b83\u63d0\u4f9b\u4e00\u4e9b\u5185\u5b58\u3001\u8f93\u5165\u8bbe\u5907\uff08\u5982\u952e\u76d8\u3001\u9f20\u6807\uff09\u63a5\u53e3\u3001\u6743\u9650\u7b49\u989d\u5916\u5185\u5bb9\uff0c\u7531\u6b64\u4ea7\u751f\u7684\u771f\u6b63\u8fd0\u884c\u7684\u4efb\u52a1\u79f0\u4e3a\u8fdb\u7a0b\u3002<\/p>\n\n    <p>\u7531\u4e8e\u5e94\u7528\u5c42\u4f9d\u8d56\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684\u5e95\u5c42\u670d\u52a1\uff0c\u56e0\u6b64\u5e94\u7528\u5c42\u901a\u4fe1\u7684\u771f\u6b63\u4e3b\u4f53\u662f\u8fdb\u7a0b\u3002<\/p>\n<\/blockquote>\n\n<p>\u5728\u4e24\u4e2a\u4e0d\u540c\u7aef\u7cfb\u7edf\u4e0a\u7684\u8fdb\u7a0b\u901a\u8fc7\u8de8\u8d8a\u8ba1\u7b97\u673a\u7f51\u7edc\u4ea4\u6362<strong>\u62a5\u6587<\/strong>(message)\u3002\u62a5\u6587\u662f\u4e00\u79cd\u7279\u6b8a\u683c\u5f0f\u7684\u6570\u636e\uff0c\u4e0d\u540c\u5e94\u7528\u7a0b\u5e8f\u4f53\u7cfb\u4ea4\u6362\u7684\u62a5\u6587\u683c\u5f0f\u4e5f\u53ef\u80fd\u4e0d\u540c\u3002\u53d1\u9001\u8fdb\u7a0b\u88ab\u521b\u5efa\u5e76\u5411\u7f51\u7edc\u4e2d\u53d1\u9001\u62a5\u6587\uff1b\u63a5\u6536\u8fdb\u7a0b\u63a5\u6536\u8fd9\u4e9b\u62a5\u6587\u5e76\u53ef\u80fd\u901a\u8fc7\u56de\u590d\u62a5\u6587\u54cd\u5e94\u53d1\u9001\u65b9\u3002<\/p>\n\n<p>\u5728\u4e00\u5bf9\u8fdb\u7a0b\u4e4b\u95f4\u7684\u901a\u4fe1\u4f1a\u8bdd\u573a\u666f\u4e2d\uff0c\u53d1\u8d77\u901a\u4fe1\u7684\u8fdb\u7a0b\u88ab\u6807\u8bc6\u4e3a<strong>\u5ba2\u6237\u7aef<\/strong>(client)\uff0c\u5728\u4f1a\u8bdd\u5f00\u59cb\u65f6\u7b49\u5f85\u8054\u7cfb\u7684\u8fdb\u7a0b\u662f<strong>\u670d\u52a1\u7aef<\/strong>(server)\u3002<\/p>\n\n<p>\u8fdb\u7a0b\u901a\u8fc7<strong>\u5957\u63a5\u5b57<\/strong>(socket)\u8f6f\u4ef6\u63a5\u53e3\u5411\u7f51\u7edc\u53d1\u9001\u548c\u63a5\u6536\u62a5\u6587\u3002\u5957\u63a5\u5b57\u662f\u540c\u4e00\u53f0\u4e3b\u673a\u5185\u5e94\u7528\u5c42\u4e0e\u8fd0\u8f93\u5c42\u4e4b\u95f4\u7684\u63a5\u53e3\uff0c\u4e5f\u79f0\u4e3a<strong>\u5e94\u7528\u7a0b\u5e8f\u7f16\u7a0b\u63a5\u53e3<\/strong>(Application Programming Interface, API)\u3002\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u63a7\u5236\u5957\u63a5\u5b57\u5728\u5e94\u7528\u5c42\u7aef\u7684\u529f\u80fd\u3002\u4e0b\u56fe\u5c55\u793a\u4e86\u5957\u63a5\u5b57\u4e0e\u8fdb\u7a0b\u5728\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\u6240\u5904\u7684\u4f4d\u7f6e\uff08\u8fd9\u91cc\u53ea\u5173\u5fc3\u5e94\u7528\u5c42\u4e0e\u8fd0\u8f93\u5c42\u4e4b\u95f4\u7684\u90e8\u5206\uff09\uff1a<\/p>\n\n<figure>\n    <img decoding=\"async\" src=\"http:\/\/localhost:8000\/wordpress\/wp-content\/uploads\/2022\/06\/02-socket-process.png\" alt=\"\" width=\"380\">\n    <figcaption>\u8fdb\u7a0b\u3001\u5957\u63a5\u5b57\u4e0e\u8ba1\u7b97\u673a\u7f51\u7edc\u5176\u4f59\u90e8\u5206\u7684\u56fe\u793a<\/figcaption>\n<\/figure>\n\n<p>\u4e3a\u4e86\u5411\u7279\u5b9a\u76ee\u7684\u4e3b\u673a\u7684\u8fdb\u7a0b\u53d1\u9001\u5206\u7ec4\uff0c\u63a5\u6536\u8fdb\u7a0b\u901a\u8fc7\u5176<strong>IP \u5730\u5740<\/strong>(IP address)\u6807\u8bc6\uff0c\u76ee\u524d\u53ea\u9700\u8981\u77e5\u9053\u5b83\u662f\u4e00\u4e2a 32 \u6bd4\u7279\u80fd\u591f\u552f\u4e00\u6807\u8bc6\u4e3b\u673a\u7684\u865a\u62df\u5730\u5740\u3002\u76ee\u7684\u5730\u7684<strong>\u7aef\u53e3\u53f7<\/strong>(port number)\u7528\u4e8e\u6307\u5b9a\u63a5\u6536\u4e3b\u673a\u4e0a\u7684\u63a5\u6536\u8fdb\u7a0b\uff0c\u5b83\u662f\u4e00\u4e2a\u65e0\u7b26\u53f7 16 \u4f4d\u6574\u6570\uff0c\u7528\u4e8e\u533a\u5206\u4e00\u53f0\u4e3b\u673a\u4e0a\u591a\u4e2a\u540c\u65f6\u8fd0\u884c\u7684\u5957\u63a5\u5b57\u5e94\u7528\u7a0b\u5e8f\u3002\u603b\u4f53\u6765\u8bf4\uff0cIP \u5730\u5740\u548c\u7aef\u53e3\u53f7\u7ed3\u5408\uff0c\u53ef\u4ee5\u5728\u4e92\u8054\u7f51\u4e2d\u627e\u5230\u4e00\u53f0\u4e3b\u673a\u4e0a\u7684\u7279\u5b9a\u8fdb\u7a0b\u3002<\/p>\n\n<p>\u5728\u8fd0\u8f93\u5c42\u4e2d\uff0c\u4f1a\u66f4\u8be6\u7ec6\u5730\u4ecb\u7ecd\u7aef\u53e3\u53f7\u5b58\u5728\u7684\u610f\u4e49\uff1b\u5728\u7f51\u7edc\u5c42\u4e2d\uff0c\u4f1a\u66f4\u8be6\u7ec6\u5730\u4ecb\u7ecd IP \u5730\u5740\u7684\u4f5c\u7528\u3002<\/p>\n\n<h3>\u8fd0\u8f93\u670d\u52a1<\/h3>\n\n<p>\u8fd0\u8f93\u5c42\u662f\u5e94\u7528\u5c42\u4e4b\u4e0b\u7684\u90e8\u5206\uff0c\u8fd0\u8f93\u5c42\u7684\u4f5c\u7528\u5c31\u662f\u63d0\u4f9b<strong>\u53ef\u9760\u6570\u636e\u4f20\u8f93<\/strong>(reliable data transfer)\uff0c\u786e\u4fdd\u4e00\u4e2a\u7aef\u7cfb\u7edf\u53d1\u9001\u7684\u6570\u636e\u80fd\u591f\u6b63\u786e\u3001\u5b8c\u5168\u5730\u4ea4\u4ed8\u7ed9\u53e6\u4e00\u4e2a\u7aef\u7cfb\u7edf\u7684\u5e94\u7528\u7a0b\u5e8f\u3002<\/p>\n\n<p>\u5f53\u4e00\u4e2a\u8fd0\u8f93\u5c42\u534f\u8bae\u4e0d\u63d0\u4f9b\u53ef\u9760\u6570\u636e\u4f20\u8f93\u65f6\uff0c<strong>\u5bb9\u5fcd\u4e22\u5931\u7684\u5e94\u7528<\/strong>(lost-tolerant application)\u53ef\u4ee5\u63a5\u53d7\u90e8\u5206\u65e0\u6cd5\u5230\u8fbe\u63a5\u6536\u8fdb\u7a0b\u7684\u6570\u636e\u3002<\/p>\n\n<p>\u53ef\u7528\u541e\u5410\u91cf\u6307\u4e24\u4e2a\u8fdb\u7a0b\u901a\u4fe1\u65f6\uff0c\u53d1\u9001\u8fdb\u7a0b\u5411\u63a5\u6536\u8fdb\u7a0b\u53d1\u9001\u6bd4\u7279\u7684\u901f\u7387\u3002\u8fd0\u8f93\u5c42\u534f\u8bae\u5e94\u4fdd\u8bc1\u53ef\u7528\u541e\u5410\u91cf\u4e0d\u4f4e\u4e8e\u5e94\u7528\u7a0b\u5e8f\u8981\u6c42\u7684\u541e\u5410\u91cf\u3002\u5177\u6709\u541e\u5410\u91cf\u8981\u6c42\u7684\u5e94\u7528\u88ab\u79f0\u4e3a<strong>\u5e26\u5bbd\u654f\u611f\u7684\u5e94\u7528<\/strong>(bandwidth-sensitive application)\uff0c\u800c<strong>\u5f39\u6027\u5e94\u7528<\/strong>(elastic application)\u80fd\u6839\u636e\u5f53\u65f6\u53ef\u7528\u7684\u541e\u5410\u91cf\u8c03\u6574\u4f20\u8f93\u901f\u7387\u5e76\u5c3d\u53ef\u80fd\u5229\u7528\u5f53\u524d\u7684\u541e\u5410\u91cf\u3002\u4f8b\u5982\uff0c\u4e92\u8054\u7f51\u7535\u8bdd\u3001\u89c6\u9891\u76f4\u64ad\u5c31\u5c5e\u4e8e\u5e26\u5bbd\u654f\u611f\u7684\u5e94\u7528\uff0c\u5728\u541e\u5410\u91cf\u4e0d\u8db3\u65f6\u4f1a\u9020\u6210\u5361\u987f\u3001\u4fe1\u606f\u4e22\u5931\u7b49\u60c5\u51b5\uff1b\u800c\u6587\u4ef6\u4f20\u8f93\u3001\u7535\u5b50\u90ae\u4ef6\u5219\u5c5e\u4e8e\u5f39\u6027\u5e94\u7528\uff0c\u6b64\u65f6\u53d1\u9001\u65b9\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u5141\u8bb8\u5ef6\u540e\u63a5\u6536\u6765\u9002\u5e94\u7f13\u6162\u7684\u4f20\u8f93\u901f\u7387\u3002<\/p>\n\n<p>\u8fd0\u8f93\u5c42\u534f\u8bae\u4e5f\u9700\u8981\u63d0\u4f9b\u4ea4\u4e92\u5f0f\u5b9e\u65f6\u5e94\u7528\u7a0b\u5e8f\u7684\u5b9a\u65f6\u4fdd\u8bc1\uff0c\u53d1\u9001\u65b9\u4f20\u9012\u7ed9\u5957\u63a5\u5b57\u7684\u6bcf\u4e2a\u6bd4\u7279\u5230\u8fbe\u63a5\u6536\u65b9\u7684\u5957\u63a5\u5b57\u4e0d\u80fd\u6709\u592a\u5927\u95f4\u9694\u3002\u8f83\u957f\u7684\u65f6\u5ef6\u4f1a\u4f7f\u4e00\u4e9b\u5b9e\u65f6\u5e94\u7528\u53d1\u751f\u4e0d\u81ea\u7136\u7684\u505c\u987f\u7b49\u95ee\u9898\u3002<\/p>\n\n<p>\u6700\u540e\uff0c\u8fd0\u8f93\u534f\u8bae\u4e5f\u53ef\u80fd\u9700\u8981\u4e3a\u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u82e5\u5e72\u5b89\u5168\u6027\u670d\u52a1\uff0c\u4ee5\u9632\u6b62\u4f20\u8f93\u7684\u6570\u636e\u88ab\u7a83\u53d6\u6216\u7be1\u6539\u3002<\/p>\n\n<hr>\n\n<p>\u4e92\u8054\u7f51\u4e3a\u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u4e86\u4e24\u4e2a\u8fd0\u8f93\u5c42\u534f\u8bae\uff1aTCP \u534f\u8bae\u548c UDP \u534f\u8bae\u3002\u8fd9\u91cc\u4ec5\u5bf9\u6b64\u505a\u7b80\u8981\u4ecb\u7ecd\uff0c\u5728\u8fd0\u8f93\u5c42\u4e2d\u624d\u4f1a\u771f\u6b63\u6d89\u53ca\u8fd9\u4e24\u4e2a\u534f\u8bae\u7684\u7ec6\u8282\u3002<\/p>\n\n<ul>\n    <li><strong>TCP \u670d\u52a1<\/strong><\/li>\n<\/ul>\n\n<p>TCP \u670d\u52a1\u6a21\u578b\u5305\u62ec\u9762\u5411\u8fde\u63a5\u670d\u52a1\u548c\u53ef\u9760\u6570\u636e\u4f20\u8f93\u670d\u52a1\u3002<\/p>\n\n<p>\u5728\u5e94\u7528\u5c42\u6570\u636e\u62a5\u6587\u4f20\u8f93\u4e4b\u524d\uff0cTCP \u670d\u52a1\u4f1a\u5148\u5728\u5ba2\u6237\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u63e1\u624b\uff0c\u4ea4\u4e92\u8fd0\u8f93\u5c42\u63a7\u5236\u4fe1\u606f\uff0c\u63e1\u624b\u4e4b\u540e\u4f1a\u5728\u4e24\u4e2a\u8fdb\u7a0b\u7684\u5957\u63a5\u5b57\u4e4b\u95f4\u5efa\u7acb\u4e00\u4e2a TCP \u8fde\u63a5\uff0c\u8fde\u63a5\u53cc\u65b9\u7684\u8fdb\u7a0b\u53ef\u4ee5\u5728\u6b64\u8fde\u63a5\u4e0a\u540c\u65f6\u6536\u53d1\u62a5\u6587\uff0c\u5e76\u5f53\u5e94\u7528\u7a0b\u5e8f\u7ed3\u675f\u62a5\u6587\u53d1\u9001\u540e\u4f1a\u62c6\u9664\u8be5\u8fde\u63a5\u3002<\/p>\n\n<p>\u4f7f\u7528 TCP \u670d\u52a1\uff0c\u53ef\u4ee5\u6309\u6b63\u786e\u987a\u5e8f\u63a5\u6536\u6240\u6709\u6570\u636e\uff0c\u4e0d\u4f1a\u6709\u5b57\u8282\u7684\u4e22\u5931\u3001\u4e71\u5e8f\u7b49\u5dee\u9519\u3002<\/p>\n\n<ul>\n    <li><strong>UDP \u670d\u52a1<\/strong><\/li>\n<\/ul>\n\n<p>UDP \u662f\u4e00\u79cd\u4e0d\u63d0\u4f9b\u4e0d\u5fc5\u8981\u670d\u52a1\u7684\u8f7b\u91cf\u7ea7\u8fd0\u8f93\u670d\u52a1\uff0c\u4ec5\u63d0\u4f9b\u6700\u5c0f\u670d\u52a1\uff0c\u56e0\u6b64\u5b83\u662f\u65e0\u8fde\u63a5\u7684\uff0c\u4e24\u4e2a\u8fdb\u7a0b\u901a\u4fe1\u524d\u6ca1\u6709\u63e1\u624b\u8fc7\u7a0b\u3002<\/p>\n\n<p>\u9664\u6b64\u4e4b\u5916\uff0cUDP \u4e5f\u4e0d\u80fd\u4fdd\u8bc1\u62a5\u6587\u5230\u8fbe\u63a5\u6536\u8fdb\u7a0b\uff0c\u4e5f\u4e0d\u80fd\u4fdd\u8bc1\u63a5\u6536\u7684\u987a\u5e8f\u6b63\u786e\u3002\u4f46\u662f UDP \u4f20\u8f93\u66f4\u5feb\uff0c\u57fa\u4e8e UDP \u7684\u6269\u5c55\u6027\u4e5f\u66f4\u5f3a\u3002<\/p>\n\n<h3>\u5b9e\u9a8c\uff1a\u5957\u63a5\u5b57\u7f16\u7a0b<\/h3>\n\n<h4>UDP \u5957\u63a5\u5b57\u7f16\u7a0b<\/h4>\n\n<p>UDP \u7f16\u7a0b\u76f8\u5bf9\u6bd4\u6bd4\u8f83\u7b80\u5355\uff0c\u56e0\u6b64\u63a5\u4e0b\u6765\u5148\u7814\u7a76 UDP \u7f16\u7a0b\u3002<\/p>\n\n<p>\u5f53\u5957\u63a5\u5b57\u4f7f\u7528 UDP \u901a\u4fe1\u65f6\uff0c\u5728\u53d1\u9001\u8fdb\u7a0b\u80fd\u591f\u5c06\u6570\u636e\u5206\u7ec4\u4ece\u5e94\u7528\u5c42\u63a8\u5230\u8fd0\u8f93\u5c42\u4e4b\u524d\uff0c\u9700\u8981\u5148\u5c06\u76ee\u7684\u5730\u5740\u586b\u5165\u5206\u7ec4\u91cc\uff0c\u8fd9\u6837\u4e92\u8054\u7f51\u53ef\u4ee5\u6b63\u786e\u8fde\u63a5\u5230\u63a5\u6536\u65b9\u7684\u5957\u63a5\u5b57\u3002<\/p>\n\n<p>\u4e00\u53f0\u4e3b\u673a\u53ef\u4ee5\u8fd0\u884c\u591a\u4e2a\u7f51\u7edc\u8fdb\u7a0b\uff0c\u56e0\u6b64\u5f53\u751f\u6210\u4e00\u4e2a\u5957\u63a5\u5b57\u65f6\uff0c\u4f1a\u4e3a\u5b83\u5206\u914d\u4e00\u4e2a\u7aef\u53e3\u53f7\u3002\u53d1\u9001\u8fdb\u7a0b\u9664\u4e86\u4e3a\u5206\u7ec4\u9644\u52a0\u4e0a\u76ee\u7684\u5730\u5740\uff0c\u8fd8\u8981\u5e26\u4e0a\u76ee\u7684\u7aef\u53e3\u53f7\u3002\u4e3a\u4e86\u80fd\u63a5\u6536\u5230\u76ee\u7684\u4e3b\u673a\u7684\u54cd\u5e94\u4fe1\u606f\uff0c\u64cd\u4f5c\u7cfb\u7edf\u8fd8\u4f1a\u4e3a\u53d1\u9001\u65b9\u7684\u5206\u7ec4\u9644\u5e26\u6e90\u4e3b\u673a\u7684 IP \u5730\u5740\u548c\u5957\u63a5\u5b57\u7aef\u53e3\u53f7\u3002<\/p>\n\n<p>\u5f53\u5206\u7ec4\u5230\u8fbe\u63a5\u6536\u5957\u63a5\u5b57\u65f6\uff0c\u63a5\u6536\u8fdb\u7a0b\u901a\u8fc7\u5957\u63a5\u5b57\u53d6\u56de\u5206\u7ec4\uff0c\u7136\u540e\u68c0\u67e5\u5206\u7ec4\u5185\u5bb9\u5e76\u91c7\u53d6\u9002\u5f53\u52a8\u4f5c\u3002<\/p>\n\n<p>\u4e0b\u56fe\u63cf\u8ff0\u4e86\u8fd9\u4e00\u901a\u4fe1\u7684\u8fc7\u7a0b\uff1a<\/p>\n\n<figure>\n    <img decoding=\"async\" src=\"http:\/\/localhost:8000\/wordpress\/wp-content\/uploads\/2022\/06\/02-usp-socket.jpg\" alt=\"\" width=\"330\">\n    <figcaption>UDP \u5957\u63a5\u5b57\u7684\u901a\u4fe1\u8fc7\u7a0b<\/figcaption>\n<\/figure>\n\n<ul>\n    <li><strong>UDP \u670d\u52a1\u7aef\u5957\u63a5\u5b57\u7a0b\u5e8f<\/strong><\/li>\n<\/ul>\n\n<p>\u670d\u52a1\u5668\u4e3a\u4e86\u80fd\u591f\u63a5\u6536\u5e76\u56de\u7b54\u8be5\u5ba2\u6237\u7684\u62a5\u6587\uff0c\u5b83\u5fc5\u987b\u63d0\u524d\u8fd0\u884c\u5957\u63a5\u5b57\u8fdb\u7a0b\u5e76\u7b49\u5f85\u63a5\u6536\u3002\u56e0\u6b64\u8fd9\u91cc\u9996\u5148\u7814\u7a76\u670d\u52a1\u7aef\u7684\u5957\u63a5\u5b57\u7a0b\u5e8f\u3002<\/p>\n\n<p>\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u4e86\u5957\u63a5\u5b57\u7684\u63a5\u53e3\uff0c\u4e3a\u4e86\u4f7f\u7528\u5957\u63a5\u5b57\uff0c\u9996\u5148\u9700\u8981\u5bfc\u5165\u76f8\u5e94\u7684\u6a21\u5757\uff1a<\/p>\n\n<div class=\"vscode-block\"><div><span style=\"color: #a8a8a8;\"># server.py<\/span><\/div><div><span style=\"color: #d73a49;font-weight: bold;\">import<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #6f42c1;\">socket<\/span><\/div><\/div>\n\n<p><code>socket<\/code> \u6a21\u5757\u662f Python \u5bf9\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684\u5957\u63a5\u5b57\u63a5\u53e3\u7684\u5c01\u88c5\uff0c\u662f\u7f51\u7edc\u901a\u4fe1\u7684\u57fa\u7840\uff0c\u901a\u8fc7\u8be5\u6a21\u5757\u53ef\u4ee5\u5728\u7a0b\u5e8f\u4e2d\u521b\u5efa\u5957\u63a5\u5b57\u3002<\/p>\n\n<p>\u5bf9\u4e8e\u6bcf\u4e2a\u751f\u6210\u7684\u5957\u63a5\u5b57\uff0c\u90fd\u9700\u8981\u4e3a\u5176\u5206\u914d\u4e00\u4e2a\u7aef\u53e3\u53f7\u3002\u4f8b\u5982\uff0c\u8fd9\u91cc\u786e\u5b9a\u5f85\u5206\u914d\u7684\u7aef\u53e3\u53f7\u4e3a 12000 \uff1a<\/p>\n\n<div class=\"vscode-block\"><div><span style=\"color: #24292e;\">server_port<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #005cc5;\">12000<\/span><\/div><\/div>\n\n<p>\u63a5\u4e0b\u6765\uff0c\u901a\u8fc7 <code>socket<\/code> \u7c7b\u521b\u5efa\u4e00\u4e2a\u5957\u63a5\u5b57\uff1a<\/p>\n\n<div class=\"vscode-block\"><div><span style=\"color: #24292e;\">server<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #6f42c1;\">socket<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">socket<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #6f42c1;\">socket<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #24292e;\">AF_INET<\/span><span style=\"color: #24292e;\">, <\/span><span style=\"color: #6f42c1;\">socket<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #24292e;\">SOCK_DGRAM<\/span><span style=\"color: #24292e;\">)<\/span><\/div><\/div>\n\n<p>\u7b2c\u4e00\u4e2a\u53c2\u6570\u6307\u793a\u4e86\u6240\u4f7f\u7528\u7684\u5730\u5740\u65cf\uff0c\u8fd9\u91cc <code>socket.AF_INET<\/code> \u8868\u793a\u4f7f\u7528\u7684\u662f\u4e00\u822c\u7684 IP \u5730\u5740\uff0c\u4e0d\u540c\u7c7b\u578b\u7684\u7f51\u7edc\u4f7f\u7528\u7684\u5730\u5740\u65cf\u4e5f\u4e0d\u540c\uff0c\u5176\u5b83\u7c7b\u578b\u7684\u5730\u5740\u7559\u5f85\u7f51\u7edc\u5c42\u8ba8\u8bba\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6307\u793a\u8be5\u5957\u63a5\u5b57\u662f <code>socket.SOCK_DGRAM<\/code> \u7c7b\u578b\uff0c\u5373\u4e00\u4e2a UDP \u5957\u63a5\u5b57\u3002<\/p>\n\n<p>\u63a5\u4e0b\u6765\uff0c\u9700\u8981\u5c06\u7aef\u53e3\u53f7 12000 \u4e0e\u8be5\u670d\u52a1\u5668\u7684\u5957\u63a5\u5b57\u7ed1\u5b9a\uff0c\u5373\u8ba9\u5957\u63a5\u5b57\u8fd0\u884c\u5728\u7aef\u53e3 12000 \u4e0a\uff1a<\/p>\n\n<div class=\"vscode-block\"><div><span style=\"color: #24292e;\">server<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">bind<\/span><span style=\"color: #24292e;\">((<\/span><span style=\"color: #032f62;\">''<\/span><span style=\"color: #24292e;\">, <\/span><span style=\"color: #24292e;\">server_port<\/span><span style=\"color: #24292e;\">))<\/span><\/div><\/div>\n\n<p>\u8fd9\u6837\uff0c\u4efb\u4f55\u4eba\u5411\u4f4d\u4e8e\u8be5\u670d\u52a1\u5668\u7684 IP \u5730\u5740\u7684\u7aef\u53e3 12000 \u53d1\u9001\u4e00\u4e2a\u5206\u7ec4\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5c06\u8be5\u5206\u7ec4\u5c06\u5bfc\u5411\u8be5\u5957\u63a5\u5b57\u3002<\/p>\n\n<p>\u670d\u52a1\u7aef\u7684\u5957\u63a5\u5b57\u8fdb\u7a0b\u9700\u8981\u6301\u7eed\u8fd0\u884c\uff0c\u4ee5\u5728\u4efb\u4f55\u65f6\u5019\u63a5\u6536\u5230\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u4fe1\u606f\uff0c\u56e0\u6b64\u9700\u8981\u4f7f\u7528 <code>while True<\/code> \u65e0\u9650\u5faa\u73af\uff1a<\/p>\n\n<div class=\"vscode-block\"><div><span style=\"color: #d73a49;font-weight: bold;\">while<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #005cc5;\">True<\/span><span style=\"color: #24292e;\">:<\/span><\/div><div><span style=\"color: #24292e;\">&nbsp; &nbsp; <\/span><span style=\"color: #24292e;\">received_message<\/span><span style=\"color: #24292e;\">, <\/span><span style=\"color: #24292e;\">client_address<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #24292e;\">server<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">recvfrom<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #005cc5;\">2048<\/span><span style=\"color: #24292e;\">)<\/span><\/div><div><span style=\"color: #24292e;\">&nbsp; &nbsp; <\/span><span style=\"color: #24292e;\">message<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #24292e;\">received_message<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">decode<\/span><span style=\"color: #24292e;\">()<\/span><\/div><div><span style=\"color: #24292e;\">&nbsp; &nbsp; <\/span><span style=\"color: #24292e;\">server<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">sendto<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #d73a49;font-weight: bold;\">f<\/span><span style=\"color: #032f62;\">'<\/span><span style=\"color: #005cc5;\">{<\/span><span style=\"color: #24292e;\">message<\/span><span style=\"color: #005cc5;\">}<\/span><span style=\"color: #032f62;\"> (<\/span><span style=\"color: #005cc5;\">{<\/span><span style=\"color: #6f42c1;\">len<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #24292e;\">message<\/span><span style=\"color: #24292e;\">)<\/span><span style=\"color: #005cc5;\">}<\/span><span style=\"color: #032f62;\">)'<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">encode<\/span><span style=\"color: #24292e;\">(), <\/span><span style=\"color: #24292e;\">client_address<\/span><span style=\"color: #24292e;\">)<\/span><\/div><\/div>\n\n<p>\u5957\u63a5\u5b57\u5bf9\u8c61\u7684 <code>.recvform(<em>bufsize<\/em>)<\/code> \u65b9\u6cd5\u5c06\u4f1a\u8fd4\u56de\u4e00\u4e2a\u6709\u4e24\u4e2a\u5143\u7d20\u7684\u5143\u7ec4\uff0c\u7b2c\u4e00\u4e2a\u5143\u7d20\u662f\u8fd4\u56de\u7684\u6570\u636e\u5b57\u7b26\u4e32\uff0c\u7b2c\u4e8c\u4e2a\u5143\u7d20\u662f\u6570\u636e\u7684\u6765\u6e90\u5730\u5740\u3002<code>.sendto(<em>data<\/em>, <em>address<\/em>)<\/code> \u65b9\u6cd5\u5219\u5411\u7279\u5b9a\u8fdc\u7a0b\u5730\u5740\u53d1\u9001\u6570\u636e\u3002<\/p>\n\n<p>\u62a5\u6587\u9700\u8981\u4ee5\u5b57\u8282\u7684\u5f62\u5f0f\u53d1\u9001\uff0c\u56e0\u6b64\u53d1\u9001\u7684\u5b57\u7b26\u4e32\u9700\u8981\u63d0\u524d\u8c03\u7528 <code>.encode()<\/code> \u65b9\u6cd5\u5c06\u5176\u53d8\u4e3a\u5b57\u8282\u5f62\u5f0f\uff0c\u63a5\u6536\u7684\u5b57\u8282\u4e5f\u9700\u8981\u901a\u8fc7 <code>.decode()<\/code> \u5c06\u5176\u89e3\u7801\u4e3a\u4e00\u822c\u5f62\u5f0f\u7684\u5b57\u7b26\u4e32\u3002<\/p>\n\n<ul>\n    <li><strong>UDP \u5ba2\u6237\u7aef\u5957\u63a5\u5b57\u7a0b\u5e8f<\/strong><\/li>\n<\/ul>\n\n<p>\u4e3a\u4e86\u627e\u5230\u670d\u52a1\u7aef\u5bf9\u5e94\u7684\u5957\u63a5\u5b57\uff0c\u5ba2\u6237\u7aef\u7684 UDP \u5957\u63a5\u5b57\u7a0b\u5e8f\u8fd8\u9700\u8981\u63d0\u4f9b\u670d\u52a1\u7aef\u7684 IP \u5730\u5740\u6216\u4e3b\u673a\u540d\uff1a<\/p>\n\n<div class=\"vscode-block\"><div><span style=\"color: #a8a8a8;\"># client.py<\/span><\/div><div><span style=\"color: #d73a49;font-weight: bold;\">import<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #6f42c1;\">socket<\/span><\/div><br><div><span style=\"color: #24292e;\">server_name<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #032f62;\">'localhost'<\/span><\/div><div><span style=\"color: #24292e;\">server_port<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #005cc5;\">12000<\/span><\/div><\/div>\n\n<p>\u7136\u540e\uff0c\u521b\u5efa\u4e00\u4e2a\u7528\u6237\u7aef\u7684 UDP \u5957\u63a5\u5b57\u5bf9\u8c61\uff1a<\/p>\n\n<div class=\"vscode-block\"><div><span style=\"color: #24292e;\">client<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #6f42c1;\">socket<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">socket<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #6f42c1;\">socket<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #24292e;\">AF_INET<\/span><span style=\"color: #24292e;\">, <\/span><span style=\"color: #6f42c1;\">socket<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #24292e;\">SOCK_DGRAM<\/span><span style=\"color: #24292e;\">)<\/span><\/div><\/div>\n\n<p>\u7528\u6237\u7aef\u7684 UDP \u5957\u63a5\u5b57\u5c06\u62a5\u6587\u53d1\u9001\u5230\u670d\u52a1\u7aef\u7684\u5957\u63a5\u5b57\u91cc\uff1a<\/p>\n\n<div class=\"vscode-block\"><div><span style=\"color: #24292e;\">message<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #6f42c1;\">input<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #032f62;\">'Enter something to send: '<\/span><span style=\"color: #24292e;\">).<\/span><span style=\"color: #6f42c1;\">encode<\/span><span style=\"color: #24292e;\">()<\/span><\/div><div><span style=\"color: #24292e;\">client<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">sendto<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #24292e;\">message<\/span><span style=\"color: #24292e;\">, (<\/span><span style=\"color: #24292e;\">server_name<\/span><span style=\"color: #24292e;\">, <\/span><span style=\"color: #24292e;\">server_port<\/span><span style=\"color: #24292e;\">))<\/span><\/div><br><div><span style=\"color: #24292e;\">received_message<\/span><span style=\"color: #24292e;\">, <\/span><span style=\"color: #24292e;\">address<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #24292e;\">client<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">recvfrom<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #005cc5;\">2048<\/span><span style=\"color: #24292e;\">)<\/span><\/div><div><span style=\"color: #6f42c1;\">print<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #24292e;\">received_message<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">decode<\/span><span style=\"color: #24292e;\">())<\/span><\/div><\/div>\n\n<p>\u53d1\u9001\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u81ea\u52a8\u5c06\u6e90\u4e3b\u673a\u5730\u5740\u9644\u52a0\u5728\u5206\u7ec4\u4e0a\uff0c\u65e0\u9700\u663e\u5f0f\u901a\u8fc7\u4ee3\u7801\u5b8c\u6210\u3002\u53d1\u9001\u4e4b\u540e\uff0c\u5ba2\u6237\u7aef\u53ef\u80fd\u8fd8\u9700\u8981\u518d\u6b21\u63a5\u6536\u6765\u81ea\u670d\u52a1\u7aef\u7684\u54cd\u5e94\u62a5\u6587\u3002\u5728\u8fd9\u91cc\uff0c\u5ba2\u6237\u7aef\u5df2\u7ecf\u4e0d\u9700\u8981\u4f7f\u7528\u4e86\uff0c\u53ef\u4ee5\u4e3b\u52a8\u5173\u95ed\uff1a<\/p>\n\n<div class=\"vscode-block\"><div><span style=\"color: #24292e;\">client<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">close<\/span><span style=\"color: #24292e;\">()<\/span><\/div><\/div>\n\n<p>\u5728\u672c\u5730\u4e3b\u673a\u4e0a\u5206\u522b\u8fd0\u884c\u8fd9\u4e24\u4e2a\u5957\u63a5\u5b57\u7a0b\u5e8f\uff0c\u5373\u53ef\u770b\u5230\u5b9e\u9a8c\u73b0\u8c61\uff1a<\/p>\n\n<section class=\"codeblock compare\">\n    <div class=\"codeblock code-console\">$ <span class=\"codetoken command\">python<\/span> <span class=\"codetoken option\">-u<\/span> server.py\n<\/div>\n    <div class=\"codeblock code-console\">$ <span class=\"codetoken command\">python<\/span> -u client.py\nEnter something to send: <span class=\"codetoken input\">Hello, world!<\/span>\nHello, world! (13)<\/div>\n<\/section>\n\n<h4>TCP \u5957\u63a5\u5b57\u7f16\u7a0b<\/h4>\n\n<p>TCP \u662f\u4e00\u4e2a\u9762\u5411\u8fde\u63a5\u7684\u534f\u8bae\uff0c\u56e0\u6b64\u5ba2\u6237\u548c\u670d\u52a1\u5668\u9700\u8981\u5148\u63e1\u624b\u521b\u5efa\u4e00\u4e2a TCP \u8fde\u63a5\uff0c\u7136\u540e\u624d\u80fd\u591f\u5f00\u59cb\u4e92\u76f8\u53d1\u9001\u6570\u636e\u3002TCP \u8fde\u63a5\u7684\u4e00\u7aef\u4e0e\u5ba2\u6237\u5957\u63a5\u5b57\u76f8\u8054\u7cfb\uff0c\u53e6\u4e00\u7aef\u4e0e\u670d\u52a1\u5668\u5957\u63a5\u5b57\u76f8\u8054\u7cfb\u3002<\/p>\n\n<p>\u5f53\u5ba2\u6237\u6307\u5b9a\u670d\u52a1\u5668\u5957\u63a5\u5b57\u7684\u5730\u5740\u4e0e\u7aef\u53e3\u53f7\u540e\uff0c\u5ba2\u6237\u4f1a\u5728\u8fd0\u8f93\u5c42\u4e0e\u670d\u52a1\u5668\u53d1\u8d77\u8fde\u63a5\u8bf7\u6c42\uff0c\u7136\u540e\u670d\u52a1\u5668\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u7528\u4e8e\u8fde\u63a5\u7684\u5957\u63a5\u5b57\uff0c\u5e76\u4e14\u8be5\u8fde\u63a5\u5957\u63a5\u5b57\u4ec5\u7528\u4e8e\u8be5\u5ba2\u6237\u3002<\/p>\n\n<p>\u5f53\u521b\u5efa\u8be5\u8fde\u63a5\u5957\u63a5\u5b57\u540e\uff0c\u4e00\u4fa7\u8981\u5411\u53e6\u4e00\u4fa7\u53d1\u9001\u6570\u636e\u65f6\uff0c\u5b83\u53ea\u9700\u7ecf\u8fc7\u8fde\u63a5\u5957\u63a5\u5b57\u5c06\u6570\u636e\u9001\u5165 TCP \u8fde\u63a5\uff1b\u800c UDP \u8fde\u63a5\u6bcf\u6b21\u5728\u53d1\u9001\u6570\u636e\u65f6\uff0c\u90fd\u9700\u8981\u9644\u52a0\u4e0a\u76ee\u7684\u5730\u5730\u5740\u3002<\/p>\n\n<figure>\n    <img decoding=\"async\" src=\"http:\/\/localhost:8000\/wordpress\/wp-content\/uploads\/2022\/06\/02-tcp-socket.jpg\" alt=\"\" width=\"350\">\n    <figcaption>TCP \u5957\u63a5\u5b57\u7684\u901a\u4fe1\u8fc7\u7a0b<\/figcaption>\n<\/figure>\n\n<ul>\n    <li><strong>TCP \u5ba2\u6237\u7aef\u5957\u63a5\u5b57\u7a0b\u5e8f<\/strong><\/li>\n<\/ul>\n\n<p>\u9996\u5148\u5904\u7406\u5ba2\u6237\u7aef\u7684\u5957\u63a5\u5b57\u7a0b\u5e8f\u3002\u5ba2\u6237\u7aef\u5957\u63a5\u5b57\u4e3a\u4e86\u8fde\u63a5\u5230\u670d\u52a1\u5668\u5957\u63a5\u5b57\uff0c\u540c\u6837\u9700\u8981\u6807\u8bc6\u51fa\u670d\u52a1\u5668\u7684\u5730\u5740\u548c\u5957\u63a5\u5b57\u7aef\u53e3\uff1a<\/p>\n\n<div class=\"vscode-block\"><div><span style=\"color: #a8a8a8;\"># client.py<\/span><\/div><div><span style=\"color: #d73a49;font-weight: bold;\">import<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #6f42c1;\">socket<\/span><\/div><br><div><span style=\"color: #24292e;\">server_name<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #032f62;\">'localhost'<\/span><\/div><div><span style=\"color: #24292e;\">server_port<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #005cc5;\">12000<\/span><\/div><\/div>\n\n<p>TCP \u5957\u63a5\u5b57\u548c UDP \u5957\u63a5\u5b57\u7a0b\u5e8f\u7684\u533a\u522b\u9996\u5148\u662f\u5957\u63a5\u5b57\u7684\u521b\u5efa\uff1a<\/p>\n\n<div class=\"vscode-block\"><div><span style=\"color: #24292e;\">client<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #6f42c1;\">socket<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">socket<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #6f42c1;\">socket<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #24292e;\">AF_INET<\/span><span style=\"color: #24292e;\">, <\/span><span style=\"color: #6f42c1;\">socket<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #24292e;\">SOCK_STREAM<\/span><span style=\"color: #24292e;\">)<\/span><\/div><\/div>\n\n<p><code>socket.SOCK_STREAM<\/code> \u6307\u5b9a\u4e86\u8be5\u5957\u63a5\u5b57\u662f\u4e00\u4e2a TCP \u5957\u63a5\u5b57\u3002<\/p>\n\n<p>TCP \u5957\u63a5\u5b57\u5728\u5411\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\u4e4b\u524d\uff0c\u5fc5\u987b\u5728\u5ba2\u6237\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u521b\u5efa\u4e00\u4e2a TCP \u8fde\u63a5\uff0c\u56e0\u6b64 TCP \u5ba2\u6237\u7aef\u5957\u63a5\u5b57\u7684\u7a0b\u5e8f\u5b58\u5728\u4ee5\u4e0b\u4ee3\u7801\uff1a<\/p>\n\n<div class=\"vscode-block\"><div><span style=\"color: #24292e;\">client<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">connect<\/span><span style=\"color: #24292e;\">((<\/span><span style=\"color: #24292e;\">server_name<\/span><span style=\"color: #24292e;\">, <\/span><span style=\"color: #24292e;\">server_port<\/span><span style=\"color: #24292e;\">))<\/span><\/div><\/div>\n\n<p><code>.connect(<em>address<\/em>)<\/code> \u65b9\u6cd5\u6267\u884c\u540e\uff0c\u4f1a\u53d1\u751f\u4e09\u6b21\u63e1\u624b\uff0c\u5e76\u5728\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u521b\u5efa\u4e00\u6761 TCP \u8fde\u63a5\u3002<\/p>\n\n<p>TCP \u5957\u63a5\u5b57\u7684\u901a\u4fe1\u8fc7\u7a0b\u4e5f\u548c UDP \u6709\u4e00\u5b9a\u533a\u522b\uff1a<\/p>\n\n<div class=\"vscode-block\"><div><span style=\"color: #24292e;\">client<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">send<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #24292e;\">message<\/span><span style=\"color: #24292e;\">)<\/span><\/div><div><span style=\"color: #24292e;\">received_message<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #24292e;\">client<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">recv<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #005cc5;\">1024<\/span><span style=\"color: #24292e;\">)<\/span><\/div><\/div>\n\n<p>\u7531\u4e8e\u8fde\u63a5\u5df2\u7ecf\u5efa\u7acb\u4e86\uff0c\u56e0\u6b64\u5ba2\u6237\u7aef\u5957\u63a5\u5b57\u7a0b\u5e8f\u5728\u53d1\u9001\u6570\u636e\u65f6\uff0c\u65e0\u9700\u518d\u9644\u52a0\u4e0a\u76ee\u7684\u5730\u5740\u548c\u7aef\u53e3\u53f7\uff0c\u5728\u63a5\u6536\u6570\u636e\u65f6\uff0c\u4e5f\u65e0\u9700\u63a5\u6536\u53d1\u9001\u65b9\u7684\u5730\u5740\u548c\u7aef\u53e3\u53f7\uff0c\u53ea\u9700\u8981\u7b80\u5355\u8c03\u7528 <code>.send()<\/code> \u548c <code>.recv()<\/code> \u65b9\u6cd5\u5c31\u53ef\u4ee5\u53d1\u9001\u548c\u63a5\u6536\u6570\u636e\u3002<\/p>\n\n<p>UDP \u8fde\u63a5\u4e5f\u53ef\u4ee5\u8c03\u7528 <code>.connect()<\/code> \u65b9\u6cd5\uff0c\u4f46\u8fd9\u79cd\u60c5\u51b5\u4e0b\u53ea\u662f\u7b80\u5355\u5730\u6807\u660e\u76ee\u6807\u670d\u52a1\u5668\u7684\u5730\u5740\uff0c\u4e4b\u540e\u8c03\u7528 <code>.send()<\/code> \u548c <code>.recv()<\/code> \u65b9\u6cd5\u65f6\u9644\u52a0\u76ee\u7684\u5730\u5740\u548c\u7aef\u53e3\u53f7\u4f1a\u81ea\u52a8\u5b8c\u6210\uff0c\u4f46\u6ca1\u6709\u7ecf\u5386\u8fde\u63a5\u5e76\u4f20\u8f93\u5176\u5b83\u7684\u4fe1\u606f\u8fd9\u4e00\u8fc7\u7a0b\uff0c\u5e76\u4e14\u5b9e\u9645\u8fd8\u662f\u4f1a\u5728\u6570\u636e\u4e2d\u6dfb\u52a0\u76ee\u7684\u5730\u5740\u548c\u7aef\u53e3\u53f7\u3002<\/p>\n\n<p>\u6700\u540e\uff0c\u5ba2\u6237\u7aef\u5728\u4f7f\u7528\u5b8c\u6210\u540e\uff0c\u540c\u6837\u9700\u8981\u4e3b\u52a8\u5173\u95ed\u5957\u63a5\u5b57\uff1a<\/p>\n\n<div class=\"vscode-block\"><div><span style=\"color: #24292e;\">client<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">close<\/span><span style=\"color: #24292e;\">()<\/span><\/div><\/div>\n\n<ul>\n    <li><strong>TCP \u670d\u52a1\u7aef\u5957\u63a5\u5b57\u7a0b\u5e8f<\/strong><\/li>\n<\/ul>\n\n<p>\u670d\u52a1\u7aef\u7684 TCP \u5957\u63a5\u5b57\u4e5f\u9700\u8981\u5148\u521b\u5efa\u4e00\u4e2a\u5957\u63a5\u5b57\u5bf9\u8c61\uff0c\u7136\u540e\u5c06\u5176\u4e0e\u670d\u52a1\u5668\u7684\u7aef\u53e3\u53f7\u5173\u8054\u8d77\u6765\uff1a<\/p>\n\n<div class=\"vscode-block\"><div><span style=\"color: #a8a8a8;\"># server.py<\/span><\/div><div><span style=\"color: #d73a49;font-weight: bold;\">import<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #6f42c1;\">socket<\/span><\/div><br><div><span style=\"color: #24292e;\">server_port<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #005cc5;\">12000<\/span><\/div><br><div><span style=\"color: #24292e;\">server<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #6f42c1;\">socket<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">socket<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #6f42c1;\">socket<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #24292e;\">AF_INET<\/span><span style=\"color: #24292e;\">, <\/span><span style=\"color: #6f42c1;\">socket<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #24292e;\">SOCK_STREAM<\/span><span style=\"color: #24292e;\">)<\/span><\/div><div><span style=\"color: #24292e;\">server<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">bind<\/span><span style=\"color: #24292e;\">((<\/span><span style=\"color: #032f62;\">''<\/span><span style=\"color: #24292e;\">, <\/span><span style=\"color: #24292e;\">server_port<\/span><span style=\"color: #24292e;\">))<\/span><\/div><\/div>\n\n<p>\u5bf9\u4e8e TCP \u8fde\u63a5\uff0c\u8fd8\u9700\u8981\u8c03\u7528 <code>.listen(<em>num<\/em>)<\/code> \u8ba9\u5957\u63a5\u5b57\u76d1\u542c\u8be5\u7aef\u53e3\u53f7\uff0c\u83b7\u53d6\u7528\u6237\u7684\u8fde\u63a5\u8bf7\u6c42\u3002\u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u51b3\u5b9a\u4e86\u540c\u65f6\u8bf7\u6c42\u8fde\u63a5\u7684\u6700\u5927\u6570\u91cf\uff1a<\/p>\n\n<div class=\"vscode-block\"><div><span style=\"color: #24292e;\">server<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">listen<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #005cc5;\">1<\/span><span style=\"color: #24292e;\">)<\/span><\/div><\/div>\n\n<p>TCP \u5957\u63a5\u5b57\u7684\u5faa\u73af\u90e8\u5206\u4e3a\uff1a<\/p>\n\n<div class=\"vscode-block\"><div><span style=\"color: #d73a49;font-weight: bold;\">while<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #005cc5;\">True<\/span><span style=\"color: #24292e;\">:<\/span><\/div><div><span style=\"color: #24292e;\">&nbsp; &nbsp; <\/span><span style=\"color: #24292e;\">connection<\/span><span style=\"color: #24292e;\">, <\/span><span style=\"color: #24292e;\">address<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #24292e;\">server<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">accept<\/span><span style=\"color: #24292e;\">()<\/span><\/div><div><span style=\"color: #24292e;\">&nbsp; &nbsp; <\/span><span style=\"color: #24292e;\">received_message<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #24292e;\">connection<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">recv<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #005cc5;\">1024<\/span><span style=\"color: #24292e;\">)<\/span><\/div><div><span style=\"color: #24292e;\">&nbsp; &nbsp; <\/span><span style=\"color: #24292e;\">message<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #24292e;\">received_message<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">decode<\/span><span style=\"color: #24292e;\">()<\/span><\/div><div><span style=\"color: #24292e;\">&nbsp; &nbsp; <\/span><span style=\"color: #24292e;\">connection<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">send<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #d73a49;font-weight: bold;\">f<\/span><span style=\"color: #032f62;\">'<\/span><span style=\"color: #005cc5;\">{<\/span><span style=\"color: #24292e;\">message<\/span><span style=\"color: #005cc5;\">}<\/span><span style=\"color: #032f62;\"> (<\/span><span style=\"color: #005cc5;\">{<\/span><span style=\"color: #6f42c1;\">len<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #24292e;\">message<\/span><span style=\"color: #24292e;\">)<\/span><span style=\"color: #005cc5;\">}<\/span><span style=\"color: #032f62;\">)'<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">encode<\/span><span style=\"color: #24292e;\">())<\/span><\/div><div><span style=\"color: #24292e;\">&nbsp; &nbsp; <\/span><span style=\"color: #24292e;\">connection<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">close<\/span><span style=\"color: #24292e;\">()<\/span><\/div><\/div>\n\n<p>\u5f53\u5ba2\u6237\u5f00\u59cb\u8fde\u63a5\u540e\uff0c\u7a0b\u5e8f\u901a\u8fc7\u8c03\u7528 <code>.accept()<\/code> \u65b9\u6cd5\u6765\u63a5\u6536\u8fde\u63a5\u8bf7\u6c42\uff0c\u6bcf\u6b21\u8c03\u7528\u8be5\u65b9\u6cd5\u90fd\u4f1a\u7b49\u5f85\u4e00\u4e2a\u65b0\u7684\u5ba2\u6237\u8fde\u63a5\u8be5\u670d\u52a1\u5668\uff0c\u7136\u540e\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u5957\u63a5\u5b57\uff0c\u7528\u4e8e\u7ba1\u7406\u8be5\u8fde\u63a5\u7684\u6570\u636e\u6536\u53d1\u3002\u501f\u52a9\u4e8e\u521b\u5efa\u7684 TCP \uff0c\u5ba2\u6237\u53ef\u4ee5\u76f4\u63a5\u4e0e\u670d\u52a1\u5668\u6536\u53d1\u4fe1\u606f\uff0c\u5e76\u4e14\u53d1\u9001\u7684\u6240\u6709\u5185\u5bb9\u53ef\u4ee5\u6309\u6b63\u786e\u7684\u987a\u5e8f\u5230\u8fbe\u3002<\/p>\n\n<p>\u7531\u4e8e TCP \u901a\u4fe1\u4e0b\uff0c\u6bcf\u4e2a\u8fde\u63a5\u90fd\u4f7f\u7528\u552f\u4e00\u7684\u5957\u63a5\u5b57\uff0c\u56e0\u6b64\u8fde\u63a5\u7ed3\u675f\u540e\uff0c\u670d\u52a1\u7aef\u5bf9\u5e94\u7684\u5957\u63a5\u5b57\u4e5f\u9700\u8981\u5173\u95ed\u3002<\/p>\n\n<p>\u540c\u6837\u53ef\u4ee5\u5728\u4e00\u53f0\u4e3b\u673a\u4e2d\u8fd0\u884c\u8fd9\u4e24\u4e2a\u5957\u63a5\u5b57\u7a0b\u5e8f\uff0c\u6240\u5f97\u7684\u73b0\u8c61\u4e0e UDP \u5957\u63a5\u5b57\u5b9e\u9a8c\u76f8\u540c\uff0c\u8fd9\u91cc\u4e0d\u518d\u5c55\u793a\u3002\u5728\u4e0b\u4e00\u7ae0\u8fd0\u8f93\u5c42\u4e2d\uff0c\u8fd8\u4f1a\u7ed3\u5408\u8fd0\u8f93\u5c42\u670d\u52a1\u7684\u5185\u5bb9\u5bf9\u8fd9\u51e0\u4e2a\u7a0b\u5e8f\u4e2d\u7684\u7ec6\u8282\u4f5c\u8fdb\u4e00\u6b65\u5206\u6790\u3002<\/p>\n\n<h2 id=\"email\">\u7535\u5b50\u90ae\u4ef6\u4e0eSMTP\u534f\u8bae<\/h2>\n\n<h3>\u5e94\u7528\u5c42\u534f\u8bae<\/h3>\n\n<p><strong>\u5e94\u7528\u5c42\u534f\u8bae<\/strong>(application-layer protocol)\u5b9a\u4e49\u4e86\u5728\u4e0d\u540c\u7aef\u7cfb\u7edf\u4e0a\u7684\u5e94\u7528\u7a0b\u5e8f\u5982\u4f55\u76f8\u4e92\u4f20\u9012\u62a5\u6587\uff0c\u5982\uff1a<\/p>\n\n<ul>\n    <li>\u4ea4\u6362\u7684\u62a5\u6587\u7c7b\u578b<\/li>\n    <li>\u62a5\u6587\u7c7b\u578b\u7684\u8bed\u6cd5<\/li>\n    <li>\u5b57\u6bb5\u4fe1\u606f\u7684\u542b\u4e49<\/li>\n    <li>\u8fdb\u7a0b\u53d1\u9001\u62a5\u6587\u7684\u65f6\u95f4\u53ca\u65b9\u5f0f\u3001\u54cd\u5e94\u89c4\u5219<\/li>\n<\/ul>\n\n<p>\u4f8b\u5982\uff0c\u5f53\u5728\u6d4f\u89c8\u5668\u4e2d\u8f93\u5165\u4e00\u4e2a\u7f51\u5740\u65f6\uff0c\u6d4f\u89c8\u5668\u4ece\u7f51\u7ad9\u670d\u52a1\u5668\u4e2d\u4ece\u53d1\u9001\u8bf7\u6c42\u5230\u5b8c\u6574\u663e\u793a\u7f51\u9875\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5c31\u4f1a\u5229\u7528\u5e94\u7528\u5c42\u7684\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae(HyperText Transfer Protocol, HTTP)\u3002HTTP \u5bf9\u8bf7\u6c42\u548c\u54cd\u5e94\u7684\u62a5\u6587\u90fd\u505a\u4e86\u975e\u5e38\u4e25\u683c\u7684\u89c4\u5b9a\uff0c\u4ee5\u4e0b\u662f HTTP \u54cd\u5e94\u90e8\u5206\u7684\u5185\u5bb9\u683c\u5f0f\uff1a<\/p>\n\n<figure>\n    <img decoding=\"async\" src=\"http:\/\/localhost:8000\/wordpress\/wp-content\/uploads\/2022\/06\/02-http-response.jpg\" alt=\"\" width=\"540\">\n    <figcaption>HTTP \u54cd\u5e94\u5305\u4f53<\/figcaption>\n<\/figure>\n\n<p>\u5176\u4e2d\u5934\u90e8\u5b57\u6bb5\u5305\u542b\u8bb8\u591a\u6570\u636e\uff0c\u4f8b\u5982\u54cd\u5e94\u5305\u4f53\u6570\u636e\u7684\u7c7b\u578b\uff08\u662f\u6587\u672c\u3001\u56fe\u50cf\u8fd8\u662f\u89c6\u9891\u7b49\uff09\u3001\u54cd\u5e94\u5305\u542b\u7684\u7528\u6237\u4fe1\u606f\u7b49\uff0c\u6d4f\u89c8\u5668\u4f1a\u7efc\u5408\u8fd9\u7c7b\u4fe1\u606f\u51b3\u5b9a\u5982\u4f55\u5c06\u54cd\u5e94\u5305\u4f53\u7684\u5185\u5bb9\u5c55\u793a\u5230\u6807\u7b7e\u9875\u4e2d\u3002<\/p>\n\n<p>HTTP \u662f\u4e00\u4e2a\u975e\u5e38\u590d\u6742\u7684\u5e94\u7528\u5c42\u534f\u8bae\uff0c\u6d89\u53ca\u7684\u5185\u5bb9\u9700\u8981\u4e00\u672c\u5b8c\u6574\u7684\u4e66\u624d\u80fd\u5b8c\u5168\u4ecb\u7ecd\u3002\u63a5\u4e0b\u6765\u4ecb\u7ecd\u7535\u5b50\u90ae\u4ef6\u6240\u6d89\u53ca\u7684\u4e00\u4e2a\u7b80\u5355\u7684\u5e94\u7528\u5c42\u534f\u8bae SMTP \uff0c\u5e76\u901a\u8fc7\u7f16\u5199\u4ee3\u7801\u5b9e\u73b0\u8be5\u534f\u8bae\u6765\u53d1\u751f\u4e00\u5c01\u7b80\u5355\u7684\u90ae\u4ef6\u3002<\/p>\n\n<h3>\u7535\u5b50\u90ae\u4ef6\u7684\u6536\u53d1\u8fc7\u7a0b<\/h3>\n\n<p>\u4e92\u8054\u7f51\u7535\u5b50\u90ae\u4ef6\u4e3b\u8981\u7531\u4e24\u4e2a\u90e8\u5206\u7ec4\u6210\uff1a<strong>\u7528\u6237\u4ee3\u7406<\/strong>(user agent)\u548c<strong>\u90ae\u4ef6\u670d\u52a1\u5668<\/strong>(mail server)\uff0c\u5b83\u4eec\u4e4b\u95f4\u4f20\u8f93\u6570\u636e\uff08\u53d1\u9001\u90ae\u4ef6\uff09\u91c7\u7528\u7684\u5e94\u7528\u5c42\u534f\u8bae\u4e3b\u8981\u662f<strong>\u7b80\u5355\u90ae\u4ef6\u4f20\u8f93\u534f\u8bae<\/strong>(Simple Mail Transfer Protocol, SMTP)\u3002<\/p>\n\n<p>\u7535\u5b50\u90ae\u4ef6\u670d\u52a1\u7684\u6838\u5fc3\u662f\u90ae\u4ef6\u670d\u52a1\u5668\uff0c\u6bcf\u4e2a\u63a5\u6536\u65b9\u5728\u67d0\u4e2a\u90ae\u4ef6\u670d\u52a1\u5668\u4e2d\u90fd\u6709\u4e00\u4e2a<strong>\u90ae\u7bb1<\/strong>(mailbox)\uff0c\u53d1\u9001\u90ae\u4ef6\u65f6\uff0c\u90ae\u4ef6\u4ece\u53d1\u751f\u65b9\u7684\u7528\u6237\u4ee3\u7406\u4f20\u8f93\u5230\u53d1\u9001\u65b9\u7684\u90ae\u4ef6\u670d\u52a1\u5668\uff0c\u7531\u63a5\u6536\u65b9\u7684\u90ae\u4ef6\u670d\u52a1\u5668\u5206\u53d1\u5230\u63a5\u6536\u65b9\u7684\u90ae\u7bb1\u4e2d\u3002\u5982\u679c\u53d1\u751f\u65b9\u7684\u670d\u52a1\u5668\u4e0d\u80fd\u5c06\u90ae\u4ef6\u4f20\u7ed9\u63a5\u6536\u65b9\u7684\u670d\u52a1\u5668\uff0c\u90a3\u4e48\u5b83\u4f1a\u5728\u4e00\u4e2a<strong>\u62a5\u6587\u961f\u5217<\/strong>(message queue)\u4e2d\u4fdd\u7559\u8be5\u90ae\u4ef6\uff0c\u5e76\u6bcf\u9694\u4e00\u5b9a\u65f6\u95f4\u5c1d\u8bd5\u91cd\u65b0\u53d1\u751f\uff0c\u76f4\u5230\u8ba4\u4e3a\u53d1\u9001\u5931\u8d25\u4e86\u4e3a\u6b62\u3002\u90ae\u4ef6\u53d1\u9001\u8fc7\u7a0b\u4e2d\u4e00\u822c\u6ca1\u6709\u4e2d\u95f4\u670d\u52a1\u5668\u3002<\/p>\n\n<p>SMTP \u662f\u56e0\u7279\u7f51\u7535\u5b50\u90ae\u4ef6\u4e2d\u4e3b\u8981\u7684\u5e94\u7528\u5c42\u534f\u8bae\u3002\u5b83\u4f7f\u7528 TCP \u4f20\u8f93\u670d\u52a1\uff0c\u4ece\u53d1\u9001\u65b9\u7684\u90ae\u4ef6\u670d\u52a1\u5668\u5411\u63a5\u6536\u65b9\u7684\u90ae\u4ef6\u670d\u52a1\u5668\u53d1\u9001\u90ae\u4ef6\uff0c\u56e0\u6b64\u5b83\u662f\u4e00\u4e2a<strong>\u63a8\u534f\u8bae<\/strong>(push protocol)\uff0cTCP \u8fde\u63a5\u7531\u8981\u53d1\u9001\u8be5\u6587\u4ef6\u7684\u673a\u5668\u53d1\u8d77\u3002<\/p>\n\n<p>SMTP \u8981\u6c42\u6bcf\u4e2a\u62a5\u6587\u7684\u6240\u6709\u5185\u5bb9\u90fd\u91c7\u7528 7bit ASCII \u7801\u683c\u5f0f\uff0c\u5982\u679c\u62a5\u6587\u5305\u542b\u975e 7bit ASCII \u5b57\u7b26\u6216\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u5219\u62a5\u6587\u5fc5\u987b\u88ab\u7f16\u7801\u3002<\/p>\n\n<p>\u63a5\u6536\u65b9\u8981\u8bbf\u95ee\u90ae\u4ef6\u5219\u9700\u8981\u4f7f\u7528<strong>\u62c9\u534f\u8bae<\/strong>(pull protocol)\u6765\u83b7\u53d6\u62a5\u6587\uff0c\u76ee\u524d\u5e38\u89c1\u7684\u90ae\u4ef6\u8bbf\u95ee\u534f\u8bae\u5305\u62ec\u7b2c\u4e09\u7248\u90ae\u5c40\u534f\u8bae(Post Office Protocol-Version 3, POP3)\u3001\u4e92\u8054\u7f51\u90ae\u4ef6\u8bbf\u95ee\u534f\u8bae(Internet Mail Access Protocol, IMAP)\u4ee5\u53ca HTTP \u3002<\/p>\n\n<figure>\n    <img decoding=\"async\" src=\"http:\/\/localhost:8000\/wordpress\/wp-content\/uploads\/2022\/06\/02-mail-transfer.jpg\" alt=\"\" width=\"540\">\n    <figcaption>\u90ae\u4ef6\u53d1\u9001\u7684\u8fc7\u7a0b<\/figcaption>\n<\/figure>\n\n<p>\u6807\u51c6\u89c4\u5b9a\uff0cSMTP \u7684\u5957\u63a5\u5b57\u7a0b\u5e8f\u8fd0\u884c\u5728 25 \u53f7\u7aef\u53e3\u4e0a\uff0c\u5e76\u4e14 25 \u53f7\u7aef\u53e3\u4e5f\u53ea\u80fd\u7528\u4e8e SMTP \u8fdb\u7a0b\u3002<\/p>\n\n<p>POP3 \u662f\u4e00\u4e2a\u975e\u5e38\u7b80\u5355\u7684\u90ae\u4ef6\u8bbf\u95ee\u534f\u8bae\uff0c\u5b83\u4f7f\u7528 TCP \u8fde\u63a5\uff0c\u8fd0\u884c\u5728 110 \u53f7\u7aef\u53e3\u4e0a\u3002POP3 \u7684\u5904\u7406\u5206\u4e3a 3 \u6b65\uff1a<\/p>\n\n<ol>\n    <li>\u9a8c\u8bc1(authorizarion)\uff1a\u7528\u6237\u4ee3\u7406\u53d1\u9001\u7528\u6237\u540d\u548c\u53e3\u4ee4\uff0c\u9274\u522b\u7528\u6237\u8eab\u4efd<\/li>\n    <li>\u4e8b\u52a1\u5904\u7406\uff1a\u53ef\u4ee5\u53d6\u56de\u62a5\u6587\u3001\u6807\u8bb0\u5220\u9664\u6216\u64a4\u9500\u6807\u8bb0\uff0c\u4ee5\u53ca\u90ae\u4ef6\u7684\u7edf\u8ba1\u4fe1\u606f<\/li>\n    <li>\u66f4\u65b0\uff1a\u7ed3\u675f\u8be5 POP3 \u4f1a\u8bdd\uff0c\u5e76\u6267\u884c\u5220\u9664\u90ae\u4ef6<\/li>\n<\/ol>\n\n<p>POP3 \u529f\u80fd\u7b80\u964b\uff0c\u800c IMAP \u5219\u5177\u6709\u66f4\u591a\u7684\u529f\u80fd\u3002IMAP \u670d\u52a1\u5668\u5c06\u6bcf\u4e00\u4e2a\u90ae\u4ef6\u548c\u4e00\u4e2a\u6587\u4ef6\u5939\u8054\u7cfb\uff0c\u7528\u6237\u53ef\u4ee5\u5c06\u4e00\u4e2a\u90ae\u4ef6\u79fb\u52a8\u5230\u53e6\u5916\u7684\u6587\u4ef6\u5939\u5185\uff0c\u8fd8\u53ef\u4ee5\u6309\u6307\u5b9a\u6761\u4ef6\u67e5\u8be2\u5339\u914d\u7684\u90ae\u4ef6\uff0c\u6216\u83b7\u53d6\u90ae\u4ef6\u62a5\u6587\u7684\u67d0\u4e9b\u90e8\u5206\u7b49\u3002IMAP \u540c\u6837\u4f7f\u7528 TCP \u8fde\u63a5\uff0c\u4f7f\u7528\u7aef\u53e3\u53f7 143 \u3002<\/p>\n\n<blockquote>\n    <p>\u4ee5\u4e0a\u4ecb\u7ecd\u7684\u51e0\u4e2a\u534f\u8bae\uff0c\u8fd0\u884c\u8fd9\u4e9b\u534f\u8bae\u7684\u5e94\u7528\u7a0b\u5e8f\u90fd\u5177\u6709\u786e\u5b9a\u7684\u7aef\u53e3\u53f7\u3002\u8fd9\u6837\u5728\u7f16\u5199\u5957\u63a5\u5b57\u7a0b\u5e8f\u65f6\uff0c\u5c31\u53ef\u4ee5\u6309\u7167\u89c4\u5b9a\u76f4\u63a5\u5c06\u6570\u636e\u53d1\u9001\u5230\u6b63\u786e\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5e76\u88ab\u89e3\u6790\u3002<\/p>\n    <p>\u7aef\u53e3\u53f7\u4e3b\u8981\u53ef\u4ee5\u88ab\u5212\u5206\u4e3a\u4ee5\u4e0b\u4e09\u7c7b\uff1a<\/p>\n    <ul>\n        <li>\u77e5\u540d\u7aef\u53e3\uff1a\u7aef\u53e3\u53f7\u8303\u56f4 0~1023 \uff0c\u88ab\u5206\u914d\u7ed9\u6700\u91cd\u8981\u3001\u6700\u5e38\u89c1\u7684\u670d\u52a1\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u4e0d\u80fd\u8fd0\u884c\u522b\u7684\u670d\u52a1<\/li>\n        <li>\u6ce8\u518c\u7aef\u53e3\uff1a\u7aef\u53e3\u53f7\u8303\u56f4 1024~49151 \uff0c\u88ab\u8bb8\u591a\u5e94\u7528\u8f83\u5e7f\u6cdb\u7684\u7f51\u7edc\u670d\u52a1\u5360\u7528\uff0c\u4f46\u5982\u679c\u5b83\u4eec\u4e0d\u5728\u4f7f\u7528\u65f6\uff0c\u7528\u6237\u4e5f\u53ef\u4ee5\u8fd0\u884c\u81ea\u5df1\u7684\u670d\u52a1<\/li>\n        <li>\u5176\u5b83\u7aef\u53e3\uff1a\u7aef\u53e3\u53f7\u8303\u56f4 49152~65535 \uff0c\u7528\u6237\u53ef\u4ee5\u968f\u610f\u4f7f\u7528<\/li>\n    <\/ul>\n    <p>\u6240\u6709\u7528\u4e8e\u4e92\u8054\u7f51\u6807\u51c6\u534f\u8bae\u7684\u7aef\u53e3\u53f7\u80fd\u591f\u5728 http:\/\/www.iana.org \u5904\u67e5\u8be2\u5230\u3002<\/p>\n    <p>\u5728\u5ba2\u6237\u7aef\u53d1\u9001\u6570\u636e\u65f6\uff0c\u7531\u4e8e\u4f1a\u5c06\u53d1\u9001\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u53f7\u9644\u5728\u53d1\u9001\u7684\u62a5\u6587\u5185\u63d0\u4f9b\u7ed9\u63a5\u6536\u65b9\uff0c\u56e0\u6b64\u53ef\u4ee5\u968f\u610f\u4f7f\u7528\u7aef\u53e3\u53f7\u3002\u64cd\u4f5c\u7cfb\u7edf\u5728\u7528\u6237\u6ca1\u6709\u786e\u5b9a\u7aef\u53e3\u53f7\u65f6\uff0c\u4e5f\u4f1a\u4ece\u5176\u5b83\u7aef\u53e3\u4e2d\u4efb\u610f\u53d6\u51fa\u4e00\u4e2a\u53ef\u7528\u7684\u7aef\u53e3\u53f7\u63d0\u4f9b\u7ed9\u5ba2\u6237\u7aef\u7684\u5e94\u7528\u7a0b\u5e8f\u3002<\/p>\n<\/blockquote>\n\n<p>Python \u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u5f62\u5f0f\u67e5\u8be2\u67d0\u4e2a\u670d\u52a1\u7684\u7aef\u53e3\u53f7\uff1a<\/p>\n\n<div class=\"vscode-block\"><div><span style=\"color: #d73a49;\">&gt;&gt;&gt;<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;font-weight: bold;\">import<\/span><span style=\"color: #24292e;\"> socket<\/span><\/div><div><span style=\"color: #d73a49;\">&gt;&gt;&gt;<\/span><span style=\"color: #24292e;\"> socket.getservbyname(<\/span><span style=\"color: #032f62;\">'smtp'<\/span><span style=\"color: #24292e;\">)<\/span><\/div><div><span style=\"color: #005cc5;\">25<\/span><\/div><\/div>\n\n<p>\u5728 Linux \u7cfb\u7edf\u4e0a\uff0c\u6bd4\u8f83\u5e38\u7528\u7684\u670d\u52a1\u540d\u4e0e\u5bf9\u5e94\u7684\u7aef\u53e3\u53f7\u4fdd\u5b58\u5728\u6587\u4ef6 <var class=\"file\">\/etc\/services<\/var> \u91cc\u3002<\/p>\n\n<h3>\u5b9e\u9a8c\uff1aSMTP\u53d1\u9001<\/h3>\n\n<p>\u4e00\u4e2a\u7535\u5b50\u90ae\u4ef6\u4e3b\u8981\u7531\u9996\u90e8\u548c\u62a5\u6587\u4f53\u7ec4\u6210\uff0c\u4e24\u8005\u4e4b\u95f4\u4ee5\u4e00\u4e2a\u7a7a\u884c(CRLF)\u9694\u5f00\u3002\u9996\u90e8\u4e2d\u7684\u6bcf\u4e00\u884c\u7531\u5173\u952e\u5b57\u3001\u5192\u53f7\u53ca\u5176\u503c\u7ec4\u6210\uff0c<code>From:<\/code> \u9996\u90e8\u884c\u548c <code>To:<\/code> \u9996\u90e8\u884c\u662f\u5fc5\u987b\u7684\uff0c\u5b83\u4eec\u6807\u8bc6\u51fa\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\u7684\u90ae\u7bb1\u5730\u5740\uff1b\u800c <code>Subject:<\/code> \u7b49\u9996\u90e8\u884c\u5219\u662f\u53ef\u9009\u7684\u3002<\/p>\n\n<p>\u51c6\u5907\u51e0\u4e2a\u5b9e\u9a8c\u7528\u7684\u5173\u952e\u53d8\u91cf\u5982\u4e0b\uff1a<\/p>\n\n<div class=\"vscode-block\"><div><span style=\"color: #a8a8a8;\"># mail-client.py<\/span><\/div><div><span style=\"color: #d73a49;font-weight: bold;\">import<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #6f42c1;\">socket<\/span><\/div><br><div><span style=\"color: #24292e;\">mail_server<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #032f62;\">'smtp.qiye.aliyun.com'<\/span><\/div><div><span style=\"color: #24292e;\">mail_from<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #032f62;\">'web@localhost'<\/span><\/div><div><span style=\"color: #24292e;\">mail_to<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #032f62;\">'alterdellusion@gmail.com'<\/span><\/div><br><div><span style=\"color: #24292e;\">mail<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;font-weight: bold;\">f<\/span><span style=\"color: #032f62;\">'From: <\/span><span style=\"color: #005cc5;\">{<\/span><span style=\"color: #24292e;\">mail_from<\/span><span style=\"color: #005cc5;\">}\\r\\n<\/span><span style=\"color: #032f62;\">'<\/span><span style=\"color: #24292e;\">\\<\/span><\/div><div><span style=\"color: #24292e;\">&nbsp; &nbsp; &nbsp; &nbsp;<\/span><span style=\"color: #d73a49;font-weight: bold;\">f<\/span><span style=\"color: #032f62;\">'To: <\/span><span style=\"color: #005cc5;\">{<\/span><span style=\"color: #24292e;\">mail_to<\/span><span style=\"color: #005cc5;\">}\\r\\n<\/span><span style=\"color: #032f62;\">'<\/span><span style=\"color: #24292e;\">\\<\/span><\/div><div><span style=\"color: #24292e;\">&nbsp; &nbsp; &nbsp; &nbsp; <\/span><span style=\"color: #032f62;\">'Subject: Hello World<\/span><span style=\"color: #005cc5;\">\\r\\n<\/span><span style=\"color: #032f62;\">'<\/span><span style=\"color: #24292e;\">\\<\/span><\/div><div><span style=\"color: #24292e;\">&nbsp; &nbsp; &nbsp; &nbsp; <\/span><span style=\"color: #032f62;\">'<\/span><span style=\"color: #005cc5;\">\\r\\n<\/span><span style=\"color: #032f62;\">'<\/span><span style=\"color: #24292e;\">\\<\/span><\/div><div><span style=\"color: #24292e;\">&nbsp; &nbsp; &nbsp; &nbsp; <\/span><span style=\"color: #032f62;\">'Hello, world!<\/span><span style=\"color: #005cc5;\">\\r\\n<\/span><span style=\"color: #032f62;\">'<\/span><\/div><\/div>\n\n<p>SMTP \u4f7f\u7528 TCP \u8fde\u63a5\uff0c\u7aef\u53e3\u53f7\u4e3a 25 \uff0c\u56e0\u6b64\u9996\u5148\u751f\u6210\u5ba2\u6237\u7aef\u5957\u63a5\u5b57\u5e76\u8fde\u63a5\uff1a<\/p>\n\n<div class=\"vscode-block\"><div><span style=\"color: #24292e;\">client<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #6f42c1;\">socket<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">socket<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #6f42c1;\">socket<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #24292e;\">AF_INET<\/span><span style=\"color: #24292e;\">, <\/span><span style=\"color: #6f42c1;\">socket<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #24292e;\">SOCK_STREAM<\/span><span style=\"color: #24292e;\">)<\/span><\/div><div><span style=\"color: #24292e;\">client<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">connect<\/span><span style=\"color: #24292e;\">((<\/span><span style=\"color: #24292e;\">mail_server<\/span><span style=\"color: #24292e;\">, <\/span><span style=\"color: #005cc5;\">25<\/span><span style=\"color: #24292e;\">))<\/span><\/div><\/div>\n\n<p>\u5f53\u8fde\u63a5\u5230\u90ae\u4ef6\u670d\u52a1\u5668\u540e\uff0c\u90ae\u4ef6\u670d\u52a1\u5668\u4f1a\u4e3b\u52a8\u53d1\u9001\u5c31\u7eea\u5e94\u7b54\u7801 220 \u7ed9\u7528\u6237\uff0c\u5e94\u7b54\u7801\u540e\u9762\u53ef\u80fd\u4f1a\u8ddf\u968f\u4e00\u4e9b\u63cf\u8ff0\u4fe1\u606f\u3002\u8fd9\u91cc\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\u63a5\u6536\u5e76\u68c0\u67e5\u90ae\u4ef6\u670d\u52a1\u5668\u8fd4\u56de\u7684\u4fe1\u606f\uff1a<\/p>\n\n<div class=\"vscode-block\"><div><span style=\"color: #24292e;\">received_message<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #24292e;\">client<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">recv<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #005cc5;\">1024<\/span><span style=\"color: #24292e;\">).<\/span><span style=\"color: #6f42c1;\">decode<\/span><span style=\"color: #24292e;\">()<\/span><\/div><div><span style=\"color: #6f42c1;\">print<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #24292e;\">received_message<\/span><span style=\"color: #24292e;\">, <\/span><span style=\"color: #e36209;\">end<\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #032f62;\">''<\/span><span style=\"color: #24292e;\">)<\/span><\/div><div><span style=\"color: #d73a49;font-weight: bold;\">if<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #24292e;\">received_message<\/span><span style=\"color: #24292e;\">[:<\/span><span style=\"color: #005cc5;\">3<\/span><span style=\"color: #24292e;\">] <\/span><span style=\"color: #d73a49;\">!=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #032f62;\">'220'<\/span><span style=\"color: #24292e;\">:<\/span><\/div><div><span style=\"color: #24292e;\">&nbsp; &nbsp; <\/span><span style=\"color: #d73a49;font-weight: bold;\">raise<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #6f42c1;\">RuntimeError<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #032f62;\">'220 reply not received from server'<\/span><span style=\"color: #24292e;\">)<\/span><\/div><\/div>\n\n<p>\u63a5\u4e0b\u6765\uff0c\u7528\u6237\u53ef\u4ee5\u5411\u670d\u52a1\u5668\u53d1\u9001 <code>HELO <em>identity<\/em><\/code> \u6307\u4ee4\uff0c<code><em>identity<\/em><\/code> \u8868\u793a\u7528\u6237\u8eab\u4efd\u3002\u82e5\u670d\u52a1\u5668\u8ba4\u4e3a\u8eab\u4efd\u6709\u6548\uff0c\u5219\u8fd4\u56de\u5e94\u7b54\u7801 250 \u3002\u516c\u5171\u7684\u90ae\u4ef6\u670d\u52a1\u5668\u5728\u53d1\u9001\u90ae\u4ef6\u4e4b\u524d\uff0c\u7528\u6237\u9700\u8981\u901a\u8fc7 <code>auth login<\/code> \u6307\u4ee4\u767b\u5f55\u90ae\u7bb1\uff0c\u670d\u52a1\u5668\u63a5\u6536\u540e\u8fd4\u56de\u5e94\u7b54\u7801 334 \u5e76\u63d0\u793a\u7528\u6237\u8f93\u5165\u7528\u6237\u540d\u3002\u4ee5\u4e0a\u884c\u4e3a\u7ffb\u8bd1\u4e3a\u4ee3\u7801\u5c31\u662f\uff1a<\/p>\n\n<div class=\"vscode-block\"><div><span style=\"color: #d73a49;font-weight: bold;\">def<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #6f42c1;\">send_message<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #e36209;\">msg<\/span><span style=\"color: #24292e;\">, <\/span><span style=\"color: #e36209;\">status<\/span><span style=\"color: #24292e;\">):<\/span><\/div><div><span style=\"color: #24292e;\">&nbsp; &nbsp; <\/span><span style=\"color: #d73a49;font-weight: bold;\">while<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #005cc5;\">True<\/span><span style=\"color: #24292e;\">:<\/span><\/div><div><span style=\"color: #24292e;\">&nbsp; &nbsp; &nbsp; &nbsp; <\/span><span style=\"color: #24292e;\">client<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">send<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #e36209;\">msg<\/span><span style=\"color: #24292e;\">)<\/span><\/div><div><span style=\"color: #24292e;\">&nbsp; &nbsp; &nbsp; &nbsp; <\/span><span style=\"color: #24292e;\">received_message<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #24292e;\">client<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">recv<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #005cc5;\">1024<\/span><span style=\"color: #24292e;\">).<\/span><span style=\"color: #6f42c1;\">decode<\/span><span style=\"color: #24292e;\">()<\/span><\/div><div><span style=\"color: #24292e;\">&nbsp; &nbsp; &nbsp; &nbsp; <\/span><span style=\"color: #6f42c1;\">print<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #24292e;\">received_message<\/span><span style=\"color: #24292e;\">, <\/span><span style=\"color: #e36209;\">end<\/span><span style=\"color: #d73a49;\">=<\/span><span style=\"color: #032f62;\">''<\/span><span style=\"color: #24292e;\">)<\/span><\/div><div><span style=\"color: #24292e;\">&nbsp; &nbsp; &nbsp; &nbsp; <\/span><span style=\"color: #d73a49;font-weight: bold;\">if<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #24292e;\">received_message<\/span><span style=\"color: #24292e;\">[:<\/span><span style=\"color: #005cc5;\">3<\/span><span style=\"color: #24292e;\">] <\/span><span style=\"color: #d73a49;\">==<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #6f42c1;\">str<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #e36209;\">status<\/span><span style=\"color: #24292e;\">):<\/span><\/div><div><span style=\"color: #24292e;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <\/span><span style=\"color: #d73a49;font-weight: bold;\">break<\/span><\/div><div><span style=\"color: #24292e;\">&nbsp; &nbsp; &nbsp; &nbsp; <\/span><span style=\"color: #d73a49;font-weight: bold;\">else<\/span><span style=\"color: #24292e;\">:<\/span><\/div><div><span style=\"color: #24292e;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <\/span><span style=\"color: #d73a49;font-weight: bold;\">raise<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #6f42c1;\">RuntimeError<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #032f62;\">'Bad response from server'<\/span><span style=\"color: #24292e;\">)<\/span><\/div><br><div><span style=\"color: #6f42c1;\">send_message<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #032f62;\">'HELO mailserver<\/span><span style=\"color: #005cc5;\">\\r\\n<\/span><span style=\"color: #032f62;\">'<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">encode<\/span><span style=\"color: #24292e;\">(), <\/span><span style=\"color: #005cc5;\">250<\/span><span style=\"color: #24292e;\">)<\/span><\/div><div><span style=\"color: #6f42c1;\">send_message<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #032f62;\">'auth login<\/span><span style=\"color: #005cc5;\">\\r\\n<\/span><span style=\"color: #032f62;\">'<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">encode<\/span><span style=\"color: #24292e;\">(), <\/span><span style=\"color: #005cc5;\">334<\/span><span style=\"color: #24292e;\">)<\/span><\/div><\/div>\n\n<p>\u6ce8\u610f\u6bcf\u6761\u6307\u4ee4\u90fd\u9700\u8981\u4f7f\u7528\u4e00\u4e2a CRLF \u56de\u8f66\u6362\u884c\u8868\u793a\u7ed3\u675f\u3002<\/p>\n\n<p>\u90e8\u5206\u90ae\u4ef6\u670d\u52a1\u5668\u4e3a\u4e86\u80fd\u591f\u63a5\u6536\u975e ASCII \u5b57\u7b26\uff0c\u4f7f\u7528 base64 \u7f16\u7801\u540e\u4f20\u8f93\u3002\u672c\u4f8b\u4e2d\u5c06\u5f85\u53d1\u9001\u7684\u7528\u6237\u540d\u4f7f\u7528 base64 \u7f16\u7801\u540e\u53d1\u9001\uff0c\u82e5\u670d\u52a1\u5668\u8ba4\u4e3a\u7528\u6237\u540d\u5b58\u5728\uff0c\u4fbf\u4f1a\u518d\u6b21\u8fd4\u56de 334 \u5e94\u7b54\u7801\u5e76\u63d0\u793a\u7528\u6237\u7ee7\u7eed\u53d1\u9001\u53e3\u4ee4\u3002\u4f7f\u7528 base64 \u7f16\u7801\u53d1\u9001\u53e3\u4ee4\u540e\uff0c\u82e5\u9a8c\u8bc1\u901a\u8fc7\uff0c\u670d\u52a1\u5668\u5219\u4f1a\u8fd4\u56de 235 \u5e94\u7b54\u7801\u3002\u4ee5\u4e0a\u884c\u4e3a\u7ffb\u8bd1\u4e3a\u4ee3\u7801\u5c31\u662f\uff1a<\/p>\n\n<div class=\"vscode-block\"><div><span style=\"color: #d73a49;font-weight: bold;\">from<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #6f42c1;\">base64<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;font-weight: bold;\">import<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #6f42c1;\">b64encode<\/span><\/div><br><div><span style=\"color: #6f42c1;\">send_message<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #6f42c1;\">b64encode<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #24292e;\">mail_from<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">encode<\/span><span style=\"color: #24292e;\">()) <\/span><span style=\"color: #d73a49;\">+<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;font-weight: bold;\">b<\/span><span style=\"color: #032f62;\">'<\/span><span style=\"color: #005cc5;\">\\r\\n<\/span><span style=\"color: #032f62;\">'<\/span><span style=\"color: #24292e;\">, <\/span><span style=\"color: #005cc5;\">334<\/span><span style=\"color: #24292e;\">)<\/span><\/div><div><span style=\"color: #6f42c1;\">send_message<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #6f42c1;\">b64encode<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #032f62;\">'password123'<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">encode<\/span><span style=\"color: #24292e;\">()) <\/span><span style=\"color: #d73a49;\">+<\/span><span style=\"color: #24292e;\"> <\/span><span style=\"color: #d73a49;font-weight: bold;\">b<\/span><span style=\"color: #032f62;\">'<\/span><span style=\"color: #005cc5;\">\\r\\n<\/span><span style=\"color: #032f62;\">'<\/span><span style=\"color: #24292e;\">, <\/span><span style=\"color: #005cc5;\">235<\/span><span style=\"color: #24292e;\">)<\/span><\/div><\/div>\n\n<p>\u4e3a\u4e86\u53d1\u9001\u4e00\u5c01\u90ae\u4ef6\uff0c\u7528\u6237\u9700\u8981\u7528 <code>MAIL FROM &lt;<em>from_address<\/em>&gt;<\/code> \u6307\u5b9a\u90ae\u4ef6\u7684\u53d1\u4ef6\u90ae\u7bb1\uff0c\u7528 <code>RCPT TO &lt;<em>to_address<\/em>&gt;<\/code> \u6307\u5b9a\u6536\u4ef6\u90ae\u7bb1\u3002\u82e5\u670d\u52a1\u5668\u8ba4\u4e3a\u90ae\u7bb1\u6709\u6548\uff0c\u5219\u8fd4\u56de\u5e94\u7b54\u7801 250 \uff0c\u7528\u6237\u4fbf\u53ef\u4ee5\u4f7f\u7528\u6307\u4ee4 <code>DATA<\/code> \u544a\u77e5\u670d\u52a1\u5668\u51c6\u5907\u53d1\u9001\u90ae\u4ef6\u5185\u5bb9\uff0c\u90ae\u4ef6\u670d\u52a1\u5668\u4f7f\u7528\u5e94\u7b54\u7801 354 \u8868\u660e\u51c6\u5907\u63a5\u6536\u8fd9\u90e8\u5206\u5185\u5bb9\u3002<\/p>\n\n<p>\u5f53\u7528\u6237\u53d1\u9001\u5b8c\u6210\u6240\u6709\u5185\u5bb9\u540e\uff0c\u9700\u8981\u53d1\u9001\u7ed3\u675f\u7b26 <code>\\r\\n.\\r\\n<\/code> \uff0c\u82e5\u90ae\u4ef6\u670d\u52a1\u5668\u63a5\u6536\u5b8c\u6bd5\uff0c\u5219\u8fd4\u56de\u5e94\u7b54\u7801 250 \u3002\u53d1\u9001\u7ed3\u675f\u540e\uff0c\u7528\u6237\u53d1\u9001\u6307\u4ee4 <code>QUIT<\/code> \u8bf7\u6c42\u65ad\u5f00\u8fde\u63a5\uff0c\u90ae\u4ef6\u670d\u52a1\u5668\u5219\u8fd4\u56de\u5e94\u7b54\u7801 221 \u5e76\u4e3b\u52a8\u65ad\u5f00\u8fde\u63a5\u3002<\/p>\n\n<p>\u4ee5\u4e0a\u884c\u4e3a\u7ffb\u8bd1\u4e3a\u4ee3\u7801\u5c31\u662f\uff1a<\/p>\n\n<div class=\"vscode-block\"><div><span style=\"color: #6f42c1;\">send_message<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #d73a49;font-weight: bold;\">f<\/span><span style=\"color: #032f62;\">'MAIL FROM: &lt;<\/span><span style=\"color: #005cc5;\">{<\/span><span style=\"color: #24292e;\">mail_from<\/span><span style=\"color: #005cc5;\">}<\/span><span style=\"color: #032f62;\">&gt;<\/span><span style=\"color: #005cc5;\">\\r\\n<\/span><span style=\"color: #032f62;\">'<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">encode<\/span><span style=\"color: #24292e;\">(), <\/span><span style=\"color: #005cc5;\">250<\/span><span style=\"color: #24292e;\">)<\/span><\/div><div><span style=\"color: #6f42c1;\">send_message<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #d73a49;font-weight: bold;\">f<\/span><span style=\"color: #032f62;\">'RCPT TO: &lt;<\/span><span style=\"color: #005cc5;\">{<\/span><span style=\"color: #24292e;\">mail_to<\/span><span style=\"color: #005cc5;\">}<\/span><span style=\"color: #032f62;\">&gt;<\/span><span style=\"color: #005cc5;\">\\r\\n<\/span><span style=\"color: #032f62;\">'<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">encode<\/span><span style=\"color: #24292e;\">(), <\/span><span style=\"color: #005cc5;\">250<\/span><span style=\"color: #24292e;\">)<\/span><\/div><div><span style=\"color: #6f42c1;\">send_message<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #032f62;\">'DATA<\/span><span style=\"color: #005cc5;\">\\r\\n<\/span><span style=\"color: #032f62;\">'<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">encode<\/span><span style=\"color: #24292e;\">(), <\/span><span style=\"color: #005cc5;\">354<\/span><span style=\"color: #24292e;\">)<\/span><\/div><div><span style=\"color: #24292e;\">client<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">send<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #24292e;\">mail<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">encode<\/span><span style=\"color: #24292e;\">())<\/span><\/div><div><span style=\"color: #6f42c1;\">send_message<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #032f62;\">'<\/span><span style=\"color: #005cc5;\">\\r\\n<\/span><span style=\"color: #032f62;\">.<\/span><span style=\"color: #005cc5;\">\\r\\n<\/span><span style=\"color: #032f62;\">'<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">encode<\/span><span style=\"color: #24292e;\">(), <\/span><span style=\"color: #005cc5;\">250<\/span><span style=\"color: #24292e;\">)<\/span><\/div><div><span style=\"color: #6f42c1;\">send_message<\/span><span style=\"color: #24292e;\">(<\/span><span style=\"color: #032f62;\">'QUIT<\/span><span style=\"color: #005cc5;\">\\r\\n<\/span><span style=\"color: #032f62;\">'<\/span><span style=\"color: #24292e;\">.<\/span><span style=\"color: #6f42c1;\">encode<\/span><span style=\"color: #24292e;\">(), <\/span><span style=\"color: #005cc5;\">221<\/span><span style=\"color: #24292e;\">)<\/span><\/div><\/div>\n\n<p>\u8fd0\u884c\u4ee5\u4e0a\u7a0b\u5e8f\uff0c\u5373\u53ef\u770b\u5230\u5b9e\u9a8c\u73b0\u8c61\uff1a<\/p>\n\n<div class=\"codeblock code-console\">$ <span class=\"codetoken command\">python<\/span> <span class=\"codetoken option\">-u<\/span> client.py\n220 smtp.aliyun-inc.com MX AliMail Server\n250 Ok\n334 dXNlcm5hbWU6\n334 UGFzc3dvcmQ6\n235 Authentication successful\n250 Mail Ok\n250 Rcpt Ok\n354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;\n250 Data Ok: queued as freedom\n221 Bye<\/div>\n\n<p><code>dXNlcm5hbWU6<\/code> \u4f7f\u7528 base64 \u89e3\u7801\u5373\u4e3a <code>Username:<\/code> \uff0c\u800c <code>UGFzc3dvcmQ6<\/code> \u4f7f\u7528 base64 \u89e3\u7801\u5373\u4e3a <code>Password:<\/code> \u3002\u5982\u679c\u90ae\u4ef6\u6ca1\u6709\u88ab\u670d\u52a1\u5668\u5224\u5b9a\u4e3a\u5783\u573e\u90ae\u4ef6\uff0c\u90a3\u4e48\u5373\u53ef\u5728\u76ee\u6807\u90ae\u7bb1\u5185\u63a5\u6536\u5230\u8be5\u90ae\u4ef6\u3002<\/p>\n\n<p>\u5728\u672c\u8282\u4e2d\uff0c\u7b80\u5355\u4ecb\u7ecd\u4e86\u5e94\u7528\u5c42\u4f53\u7cfb\u7ed3\u6784\u3002\u5e94\u7528\u5c42\u672c\u8eab\u4e3b\u8981\u901a\u8fc7\u5e94\u7528\u7a0b\u5e8f\u6765\u5b9e\u73b0\u7279\u5b9a\u7684\u4e92\u8054\u7f51\u529f\u80fd\u3002\u5e94\u7528\u5c42\u672c\u8eab\u4e0d\u53c2\u4e0e\u6570\u636e\u7684\u4f20\u8f93\uff0c\u56e0\u6b64\u9700\u8981\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684\u8fd0\u8f93\u670d\u52a1\u3002\u5e94\u7528\u5c42\u534f\u8bae\u662f\u8ba1\u7b97\u673a\u7f51\u7edc\u5efa\u7acb\u7684\u6700\u7ec8\u76ee\u7684\uff0c\u4e5f\u662f\u8fd1\u51e0\u5e74\u8ba1\u7b97\u673a\u7f51\u7edc\u53d1\u5c55\u7684\u6700\u5feb\u7684\u90e8\u5206\uff0c\u5404\u79cd\u5404\u6837\u7684\u5e94\u7528\u5c42\u534f\u8bae\u5c42\u51fa\u4e0d\u7a77\uff0c\u8ba9\u4e92\u8054\u7f51\u5728\u591a\u5a92\u4f53\u6d4f\u89c8\u3001\u6587\u4ef6\u4f20\u8f93\u3001\u8fdc\u7a0b\u4e3b\u673a\u767b\u5f55\uff0c\u4e43\u81f3\u5de5\u4e1a\u7269\u8054\u7f51\u901a\u4fe1\u95f4\u7684\u5404\u79cd\u573a\u666f\u4e2d\u53ef\u4ee5\u81ea\u7531\u53d1\u6325\u3002<\/p>\n\n<p>\u5728\u4e0b\u4e00\u8282\u4e2d\uff0c\u5c06\u4ecb\u7ecd DNS \u5e94\u7528\u5c42\u534f\u8bae\uff0c\u5b83\u662f\u4e00\u79cd\u7528\u4e8e\u5b9e\u73b0\u7f51\u7edc\u8bbe\u5907\u540d\u5b57\u5230\u4e3b\u673a\u5730\u5740\u6620\u5c04\u7684\u7f51\u7edc\u670d\u52a1\u3002<\/p>\n\n\n\n<p><\/p>\n","protected":false},"excerpt":{"rendered":"<p>\u5e94\u7528\u5c42\u534f\u8bae\u539f\u7406 \u5e94\u7528\u7a0b\u5e8f\u4f53\u7cfb\u7ed3\u6784 \u5e94\u7528\u5c42\u662f\u8ba1\u7b97\u673a\u7f51\u7edc&#46;&#46;&#46;<\/p>\n","protected":false},"author":1,"featured_media":405,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[32],"tags":[36,33],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v19.1 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\r\n<title>\u8ba1\u7b97\u673a\u7f51\u7edc02-\u5e94\u7528\u5c42\u6982\u89c8\u4e0eSMTP\u7535\u5b50\u90ae\u4ef6\u53d1\u9001 - \u51b0\u5c01\u6b8b\u70db\u7684\u4e2a\u4eba\u5c0f\u7ad9<\/title>\r\n<meta name=\"description\" content=\"\u5e94\u7528\u5c42(application-layer)\u662f\u8ba1\u7b97\u673a\u7f51\u7edc\u7ed3\u6784\u4f53\u7cfb\u7684\u6700\u9876\u5c42\uff0c\u4e3b\u8981\u901a\u8fc7\u5e94\u7528\u7a0b\u5e8f\u7684\u4ea4\u4e92\u6765\u5b9e\u73b0\u7f51\u7edc\u5e94\u7528\uff0c\u5176\u6838\u5fc3\u662f\u7f16\u5199\u80fd\u591f\u8fd0\u884c\u5728\u4e0d\u540c\u7684\u7aef\u7cfb\u7edf\u548c\u901a\u8fc7\u7f51\u7edc\u5f7c\u6b64\u901a\u4fe1\u7684\u7a0b\u5e8f\u3002\u672c\u8282\u4ecb\u7ecd\u5e94\u7528\u5c42\u7684\u5185\u5bb9\u4ee5\u53ca\u5e94\u7528\u5c42\u534f\u8bae\uff0c\u5176\u4e2d\u8be6\u7ec6\u4ecb\u7ecd\u90ae\u4ef6\u53d1\u9001\u534f\u8bae\uff0c\u5e76\u4f7f\u7528 Python \u7f16\u5199\u5e94\u7528\u5c42\u7684\u5e94\u7528\u7a0b\u5e8f\" \/>\r\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\r\n<link rel=\"canonical\" href=\"http:\/\/localhost:8000\/wordpress\/archives\/403\" \/>\r\n<meta property=\"og:locale\" content=\"zh_CN\" \/>\r\n<meta property=\"og:type\" content=\"article\" \/>\r\n<meta property=\"og:title\" content=\"\u8ba1\u7b97\u673a\u7f51\u7edc02-\u5e94\u7528\u5c42\u6982\u89c8\u4e0eSMTP\u7535\u5b50\u90ae\u4ef6\u53d1\u9001 - \u51b0\u5c01\u6b8b\u70db\u7684\u4e2a\u4eba\u5c0f\u7ad9\" \/>\r\n<meta property=\"og:description\" content=\"\u5e94\u7528\u5c42(application-layer)\u662f\u8ba1\u7b97\u673a\u7f51\u7edc\u7ed3\u6784\u4f53\u7cfb\u7684\u6700\u9876\u5c42\uff0c\u4e3b\u8981\u901a\u8fc7\u5e94\u7528\u7a0b\u5e8f\u7684\u4ea4\u4e92\u6765\u5b9e\u73b0\u7f51\u7edc\u5e94\u7528\uff0c\u5176\u6838\u5fc3\u662f\u7f16\u5199\u80fd\u591f\u8fd0\u884c\u5728\u4e0d\u540c\u7684\u7aef\u7cfb\u7edf\u548c\u901a\u8fc7\u7f51\u7edc\u5f7c\u6b64\u901a\u4fe1\u7684\u7a0b\u5e8f\u3002\u672c\u8282\u4ecb\u7ecd\u5e94\u7528\u5c42\u7684\u5185\u5bb9\u4ee5\u53ca\u5e94\u7528\u5c42\u534f\u8bae\uff0c\u5176\u4e2d\u8be6\u7ec6\u4ecb\u7ecd\u90ae\u4ef6\u53d1\u9001\u534f\u8bae\uff0c\u5e76\u4f7f\u7528 Python \u7f16\u5199\u5e94\u7528\u5c42\u7684\u5e94\u7528\u7a0b\u5e8f\" \/>\r\n<meta property=\"og:url\" content=\"http:\/\/localhost:8000\/wordpress\/archives\/403\" \/>\r\n<meta property=\"og:site_name\" content=\"\u51b0\u5c01\u6b8b\u70db\u7684\u4e2a\u4eba\u5c0f\u7ad9\" \/>\r\n<meta property=\"article:published_time\" content=\"2022-06-25T15:35:56+00:00\" \/>\r\n<meta property=\"article:modified_time\" content=\"2022-07-14T15:15:47+00:00\" \/>\r\n<meta property=\"og:image\" content=\"http:\/\/localhost:8000\/wordpress\/wp-content\/uploads\/2022\/06\/\u8ba1\u7b97\u673a\u7f51\u7edc02-\u5e94\u7528\u5c42\u6982\u89c8.jpg\" \/>\r\n\t<meta property=\"og:image:width\" content=\"1920\" \/>\r\n\t<meta property=\"og:image:height\" content=\"1280\" \/>\r\n\t<meta property=\"og:image:type\" content=\"image\/jpeg\" \/>\r\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\r\n<meta name=\"twitter:label1\" content=\"\u4f5c\u8005\" \/>\n\t<meta name=\"twitter:data1\" content=\"Hello\" \/>\n\t<meta name=\"twitter:label2\" content=\"\u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\" \/>\n\t<meta name=\"twitter:data2\" content=\"6\u5206\" \/>\r\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\r\n\t    \"@context\": \"https:\/\/schema.org\",\r\n\t    \"@graph\": [\r\n\t        {\r\n\t            \"@type\": \"WebSite\",\r\n\t            \"@id\": \"http:\/\/localhost:8000\/wordpress\/#website\",\r\n\t            \"url\": \"http:\/\/localhost:8000\/wordpress\/\",\r\n\t            \"name\": \"\u51b0\u5c01\u6b8b\u70db\u7684\u4e2a\u4eba\u5c0f\u7ad9\",\r\n\t            \"description\": \"FrozenCandle&#039;s Personal Site\",\r\n\t            \"potentialAction\": [\r\n\t                {\r\n\t                    \"@type\": \"SearchAction\",\r\n\t                    \"target\": {\r\n\t                        \"@type\": \"EntryPoint\",\r\n\t                        \"urlTemplate\": \"http:\/\/localhost:8000\/wordpress\/?s={search_term_string}\"\r\n\t                    },\r\n\t                    \"query-input\": \"required name=search_term_string\"\r\n\t                }\r\n\t            ],\r\n\t            \"inLanguage\": \"zh-CN\"\r\n\t        },\r\n\t        {\r\n\t            \"@type\": \"ImageObject\",\r\n\t            \"inLanguage\": \"zh-CN\",\r\n\t            \"@id\": \"http:\/\/localhost:8000\/wordpress\/archives\/403#primaryimage\",\r\n\t            \"url\": \"http:\/\/localhost:8000\/wordpress\/wp-content\/uploads\/2022\/06\/\u8ba1\u7b97\u673a\u7f51\u7edc02-\u5e94\u7528\u5c42\u6982\u89c8.jpg\",\r\n\t            \"contentUrl\": \"http:\/\/localhost:8000\/wordpress\/wp-content\/uploads\/2022\/06\/\u8ba1\u7b97\u673a\u7f51\u7edc02-\u5e94\u7528\u5c42\u6982\u89c8.jpg\",\r\n\t            \"width\": 1920,\r\n\t            \"height\": 1280\r\n\t        },\r\n\t        {\r\n\t            \"@type\": \"WebPage\",\r\n\t            \"@id\": \"http:\/\/localhost:8000\/wordpress\/archives\/403#webpage\",\r\n\t            \"url\": \"http:\/\/localhost:8000\/wordpress\/archives\/403\",\r\n\t            \"name\": \"\u8ba1\u7b97\u673a\u7f51\u7edc02-\u5e94\u7528\u5c42\u6982\u89c8\u4e0eSMTP\u7535\u5b50\u90ae\u4ef6\u53d1\u9001 - \u51b0\u5c01\u6b8b\u70db\u7684\u4e2a\u4eba\u5c0f\u7ad9\",\r\n\t            \"isPartOf\": {\r\n\t                \"@id\": \"http:\/\/localhost:8000\/wordpress\/#website\"\r\n\t            },\r\n\t            \"primaryImageOfPage\": {\r\n\t                \"@id\": \"http:\/\/localhost:8000\/wordpress\/archives\/403#primaryimage\"\r\n\t            },\r\n\t            \"datePublished\": \"2022-06-25T15:35:56+00:00\",\r\n\t            \"dateModified\": \"2022-07-14T15:15:47+00:00\",\r\n\t            \"author\": {\r\n\t                \"@id\": \"http:\/\/localhost:8000\/wordpress\/#\/schema\/person\/805995a49645fa933cb6698b7ffd0d7c\"\r\n\t            },\r\n\t            \"description\": \"\u5e94\u7528\u5c42(application-layer)\u662f\u8ba1\u7b97\u673a\u7f51\u7edc\u7ed3\u6784\u4f53\u7cfb\u7684\u6700\u9876\u5c42\uff0c\u4e3b\u8981\u901a\u8fc7\u5e94\u7528\u7a0b\u5e8f\u7684\u4ea4\u4e92\u6765\u5b9e\u73b0\u7f51\u7edc\u5e94\u7528\uff0c\u5176\u6838\u5fc3\u662f\u7f16\u5199\u80fd\u591f\u8fd0\u884c\u5728\u4e0d\u540c\u7684\u7aef\u7cfb\u7edf\u548c\u901a\u8fc7\u7f51\u7edc\u5f7c\u6b64\u901a\u4fe1\u7684\u7a0b\u5e8f\u3002\u672c\u8282\u4ecb\u7ecd\u5e94\u7528\u5c42\u7684\u5185\u5bb9\u4ee5\u53ca\u5e94\u7528\u5c42\u534f\u8bae\uff0c\u5176\u4e2d\u8be6\u7ec6\u4ecb\u7ecd\u90ae\u4ef6\u53d1\u9001\u534f\u8bae\uff0c\u5e76\u4f7f\u7528 Python \u7f16\u5199\u5e94\u7528\u5c42\u7684\u5e94\u7528\u7a0b\u5e8f\",\r\n\t            \"breadcrumb\": {\r\n\t                \"@id\": \"http:\/\/localhost:8000\/wordpress\/archives\/403#breadcrumb\"\r\n\t            },\r\n\t            \"inLanguage\": \"zh-CN\",\r\n\t            \"potentialAction\": [\r\n\t                {\r\n\t                    \"@type\": \"ReadAction\",\r\n\t                    \"target\": [\r\n\t                        \"http:\/\/localhost:8000\/wordpress\/archives\/403\"\r\n\t                    ]\r\n\t                }\r\n\t            ]\r\n\t        },\r\n\t        {\r\n\t            \"@type\": \"BreadcrumbList\",\r\n\t            \"@id\": \"http:\/\/localhost:8000\/wordpress\/archives\/403#breadcrumb\",\r\n\t            \"itemListElement\": [\r\n\t                {\r\n\t                    \"@type\": \"ListItem\",\r\n\t                    \"position\": 1,\r\n\t                    \"name\": \"\u9996\u9875\",\r\n\t                    \"item\": \"http:\/\/localhost:8000\/wordpress\/\"\r\n\t                },\r\n\t                {\r\n\t                    \"@type\": \"ListItem\",\r\n\t                    \"position\": 2,\r\n\t                    \"name\": \"\u8ba1\u7b97\u673a\u7f51\u7edc02-\u5e94\u7528\u5c42\u6982\u89c8\u4e0eSMTP\u7535\u5b50\u90ae\u4ef6\u53d1\u9001\"\r\n\t                }\r\n\t            ]\r\n\t        },\r\n\t        {\r\n\t            \"@type\": \"Person\",\r\n\t            \"@id\": \"http:\/\/localhost:8000\/wordpress\/#\/schema\/person\/805995a49645fa933cb6698b7ffd0d7c\",\r\n\t            \"name\": \"Hello\",\r\n\t            \"image\": {\r\n\t                \"@type\": \"ImageObject\",\r\n\t                \"inLanguage\": \"zh-CN\",\r\n\t                \"@id\": \"http:\/\/localhost:8000\/wordpress\/#\/schema\/person\/image\/\",\r\n\t                \"url\": \"http:\/\/2.gravatar.com\/avatar\/e1edbd1491f244c1e5cfafed859d4426?s=96&d=mm&r=g\",\r\n\t                \"contentUrl\": \"http:\/\/2.gravatar.com\/avatar\/e1edbd1491f244c1e5cfafed859d4426?s=96&d=mm&r=g\",\r\n\t                \"caption\": \"Hello\"\r\n\t            },\r\n\t            \"sameAs\": [\r\n\t                \"http:\/\/localhost:8000\/wordpress\"\r\n\t            ],\r\n\t            \"url\": \"http:\/\/localhost:8000\/wordpress\/archives\/author\/hello\"\r\n\t        }\r\n\t    ]\r\n\t}<\/script>\r\n<!-- \/ Yoast SEO plugin. -->","yoast_head_json":{"title":"\u8ba1\u7b97\u673a\u7f51\u7edc02-\u5e94\u7528\u5c42\u6982\u89c8\u4e0eSMTP\u7535\u5b50\u90ae\u4ef6\u53d1\u9001 - \u51b0\u5c01\u6b8b\u70db\u7684\u4e2a\u4eba\u5c0f\u7ad9","description":"\u5e94\u7528\u5c42(application-layer)\u662f\u8ba1\u7b97\u673a\u7f51\u7edc\u7ed3\u6784\u4f53\u7cfb\u7684\u6700\u9876\u5c42\uff0c\u4e3b\u8981\u901a\u8fc7\u5e94\u7528\u7a0b\u5e8f\u7684\u4ea4\u4e92\u6765\u5b9e\u73b0\u7f51\u7edc\u5e94\u7528\uff0c\u5176\u6838\u5fc3\u662f\u7f16\u5199\u80fd\u591f\u8fd0\u884c\u5728\u4e0d\u540c\u7684\u7aef\u7cfb\u7edf\u548c\u901a\u8fc7\u7f51\u7edc\u5f7c\u6b64\u901a\u4fe1\u7684\u7a0b\u5e8f\u3002\u672c\u8282\u4ecb\u7ecd\u5e94\u7528\u5c42\u7684\u5185\u5bb9\u4ee5\u53ca\u5e94\u7528\u5c42\u534f\u8bae\uff0c\u5176\u4e2d\u8be6\u7ec6\u4ecb\u7ecd\u90ae\u4ef6\u53d1\u9001\u534f\u8bae\uff0c\u5e76\u4f7f\u7528 Python \u7f16\u5199\u5e94\u7528\u5c42\u7684\u5e94\u7528\u7a0b\u5e8f","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"http:\/\/localhost:8000\/wordpress\/archives\/403","og_locale":"zh_CN","og_type":"article","og_title":"\u8ba1\u7b97\u673a\u7f51\u7edc02-\u5e94\u7528\u5c42\u6982\u89c8\u4e0eSMTP\u7535\u5b50\u90ae\u4ef6\u53d1\u9001 - \u51b0\u5c01\u6b8b\u70db\u7684\u4e2a\u4eba\u5c0f\u7ad9","og_description":"\u5e94\u7528\u5c42(application-layer)\u662f\u8ba1\u7b97\u673a\u7f51\u7edc\u7ed3\u6784\u4f53\u7cfb\u7684\u6700\u9876\u5c42\uff0c\u4e3b\u8981\u901a\u8fc7\u5e94\u7528\u7a0b\u5e8f\u7684\u4ea4\u4e92\u6765\u5b9e\u73b0\u7f51\u7edc\u5e94\u7528\uff0c\u5176\u6838\u5fc3\u662f\u7f16\u5199\u80fd\u591f\u8fd0\u884c\u5728\u4e0d\u540c\u7684\u7aef\u7cfb\u7edf\u548c\u901a\u8fc7\u7f51\u7edc\u5f7c\u6b64\u901a\u4fe1\u7684\u7a0b\u5e8f\u3002\u672c\u8282\u4ecb\u7ecd\u5e94\u7528\u5c42\u7684\u5185\u5bb9\u4ee5\u53ca\u5e94\u7528\u5c42\u534f\u8bae\uff0c\u5176\u4e2d\u8be6\u7ec6\u4ecb\u7ecd\u90ae\u4ef6\u53d1\u9001\u534f\u8bae\uff0c\u5e76\u4f7f\u7528 Python \u7f16\u5199\u5e94\u7528\u5c42\u7684\u5e94\u7528\u7a0b\u5e8f","og_url":"http:\/\/localhost:8000\/wordpress\/archives\/403","og_site_name":"\u51b0\u5c01\u6b8b\u70db\u7684\u4e2a\u4eba\u5c0f\u7ad9","article_published_time":"2022-06-25T15:35:56+00:00","article_modified_time":"2022-07-14T15:15:47+00:00","og_image":[{"width":1920,"height":1280,"url":"http:\/\/localhost:8000\/wordpress\/wp-content\/uploads\/2022\/06\/\u8ba1\u7b97\u673a\u7f51\u7edc02-\u5e94\u7528\u5c42\u6982\u89c8.jpg","type":"image\/jpeg"}],"twitter_card":"summary_large_image","twitter_misc":{"\u4f5c\u8005":"Hello","\u9884\u8ba1\u9605\u8bfb\u65f6\u95f4":"6\u5206"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"WebSite","@id":"http:\/\/localhost:8000\/wordpress\/#website","url":"http:\/\/localhost:8000\/wordpress\/","name":"\u51b0\u5c01\u6b8b\u70db\u7684\u4e2a\u4eba\u5c0f\u7ad9","description":"FrozenCandle&#039;s Personal Site","potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"http:\/\/localhost:8000\/wordpress\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"zh-CN"},{"@type":"ImageObject","inLanguage":"zh-CN","@id":"http:\/\/localhost:8000\/wordpress\/archives\/403#primaryimage","url":"http:\/\/localhost:8000\/wordpress\/wp-content\/uploads\/2022\/06\/\u8ba1\u7b97\u673a\u7f51\u7edc02-\u5e94\u7528\u5c42\u6982\u89c8.jpg","contentUrl":"http:\/\/localhost:8000\/wordpress\/wp-content\/uploads\/2022\/06\/\u8ba1\u7b97\u673a\u7f51\u7edc02-\u5e94\u7528\u5c42\u6982\u89c8.jpg","width":1920,"height":1280},{"@type":"WebPage","@id":"http:\/\/localhost:8000\/wordpress\/archives\/403#webpage","url":"http:\/\/localhost:8000\/wordpress\/archives\/403","name":"\u8ba1\u7b97\u673a\u7f51\u7edc02-\u5e94\u7528\u5c42\u6982\u89c8\u4e0eSMTP\u7535\u5b50\u90ae\u4ef6\u53d1\u9001 - \u51b0\u5c01\u6b8b\u70db\u7684\u4e2a\u4eba\u5c0f\u7ad9","isPartOf":{"@id":"http:\/\/localhost:8000\/wordpress\/#website"},"primaryImageOfPage":{"@id":"http:\/\/localhost:8000\/wordpress\/archives\/403#primaryimage"},"datePublished":"2022-06-25T15:35:56+00:00","dateModified":"2022-07-14T15:15:47+00:00","author":{"@id":"http:\/\/localhost:8000\/wordpress\/#\/schema\/person\/805995a49645fa933cb6698b7ffd0d7c"},"description":"\u5e94\u7528\u5c42(application-layer)\u662f\u8ba1\u7b97\u673a\u7f51\u7edc\u7ed3\u6784\u4f53\u7cfb\u7684\u6700\u9876\u5c42\uff0c\u4e3b\u8981\u901a\u8fc7\u5e94\u7528\u7a0b\u5e8f\u7684\u4ea4\u4e92\u6765\u5b9e\u73b0\u7f51\u7edc\u5e94\u7528\uff0c\u5176\u6838\u5fc3\u662f\u7f16\u5199\u80fd\u591f\u8fd0\u884c\u5728\u4e0d\u540c\u7684\u7aef\u7cfb\u7edf\u548c\u901a\u8fc7\u7f51\u7edc\u5f7c\u6b64\u901a\u4fe1\u7684\u7a0b\u5e8f\u3002\u672c\u8282\u4ecb\u7ecd\u5e94\u7528\u5c42\u7684\u5185\u5bb9\u4ee5\u53ca\u5e94\u7528\u5c42\u534f\u8bae\uff0c\u5176\u4e2d\u8be6\u7ec6\u4ecb\u7ecd\u90ae\u4ef6\u53d1\u9001\u534f\u8bae\uff0c\u5e76\u4f7f\u7528 Python \u7f16\u5199\u5e94\u7528\u5c42\u7684\u5e94\u7528\u7a0b\u5e8f","breadcrumb":{"@id":"http:\/\/localhost:8000\/wordpress\/archives\/403#breadcrumb"},"inLanguage":"zh-CN","potentialAction":[{"@type":"ReadAction","target":["http:\/\/localhost:8000\/wordpress\/archives\/403"]}]},{"@type":"BreadcrumbList","@id":"http:\/\/localhost:8000\/wordpress\/archives\/403#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"\u9996\u9875","item":"http:\/\/localhost:8000\/wordpress\/"},{"@type":"ListItem","position":2,"name":"\u8ba1\u7b97\u673a\u7f51\u7edc02-\u5e94\u7528\u5c42\u6982\u89c8\u4e0eSMTP\u7535\u5b50\u90ae\u4ef6\u53d1\u9001"}]},{"@type":"Person","@id":"http:\/\/localhost:8000\/wordpress\/#\/schema\/person\/805995a49645fa933cb6698b7ffd0d7c","name":"Hello","image":{"@type":"ImageObject","inLanguage":"zh-CN","@id":"http:\/\/localhost:8000\/wordpress\/#\/schema\/person\/image\/","url":"http:\/\/2.gravatar.com\/avatar\/e1edbd1491f244c1e5cfafed859d4426?s=96&d=mm&r=g","contentUrl":"http:\/\/2.gravatar.com\/avatar\/e1edbd1491f244c1e5cfafed859d4426?s=96&d=mm&r=g","caption":"Hello"},"sameAs":["http:\/\/localhost:8000\/wordpress"],"url":"http:\/\/localhost:8000\/wordpress\/archives\/author\/hello"}]}},"acf":[],"_links":{"self":[{"href":"http:\/\/localhost:8000\/wordpress\/wp-json\/wp\/v2\/posts\/403"}],"collection":[{"href":"http:\/\/localhost:8000\/wordpress\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/localhost:8000\/wordpress\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/localhost:8000\/wordpress\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"http:\/\/localhost:8000\/wordpress\/wp-json\/wp\/v2\/comments?post=403"}],"version-history":[{"count":6,"href":"http:\/\/localhost:8000\/wordpress\/wp-json\/wp\/v2\/posts\/403\/revisions"}],"predecessor-version":[{"id":516,"href":"http:\/\/localhost:8000\/wordpress\/wp-json\/wp\/v2\/posts\/403\/revisions\/516"}],"wp:featuredmedia":[{"embeddable":true,"href":"http:\/\/localhost:8000\/wordpress\/wp-json\/wp\/v2\/media\/405"}],"wp:attachment":[{"href":"http:\/\/localhost:8000\/wordpress\/wp-json\/wp\/v2\/media?parent=403"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/localhost:8000\/wordpress\/wp-json\/wp\/v2\/categories?post=403"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/localhost:8000\/wordpress\/wp-json\/wp\/v2\/tags?post=403"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}