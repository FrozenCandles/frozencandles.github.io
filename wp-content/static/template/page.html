
{#

category = {
    'pages': [{'title': '啥啥啥', 'href': ''}, ...]
}

#}


<!DOCTYPE html>
<html>
<head>
    <title>{{ title }}</title>
    <!-- [private] -->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="icon" type="image/x-icon" href="/wp-content/static/favicon.ico">

    <link rel="stylesheet" href="/wp-content/themes/instorm/style.css">
    <link rel="stylesheet" href="/wp-content/themes/instorm-child-theme/style.css">
    <link rel='stylesheet' id='instorm-font-awesome-css' href='/wp-content/themes/instorm/fonts/all.min.css?ver=6.3.1' type='text/css' media='all' />
    <!-- [/private] -->

    <link rel="stylesheet" href="/wp-content/static/css/text.css">
    <link rel="stylesheet" href="/wp-content/static/css/note.css">

    <link rel="stylesheet" href="/wp-content/static/css/assist.css">

    <script src="/wp-content/static/js/note.js"></script>
    <script src="/wp-content/static/js/assist.js"></script>
    <script src="/wp-content/static/js/math.js"></script>

    {% autoescape off %}{{ header }}{% endautoescape %}
</head>
<body>

<div class="wrapper">

    <div id="assist">
        <div class="assist-toggle-button">≡</div>
        <div class="assist-widget">
            <h5>操作</h5>
            <div id="assist-button-group"></div>
        </div>
        <div class="assist-widget">
            <h5>Table of Contents</h5>
            <div id="toc"></div>
        </div>
        {% if category %}
        <div class="assist-widget">
            <h5>系列文章</h5>
            <ul>
                {% for page in category.pages %}
                <li><a href="{{ page.href }}">{{ page.title }}</a></li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}
    </div>

    <div class="entry">{% autoescape off %}{{ content }}{% endautoescape %}</div>

</div>

<script id="script-assist">
    addTableOfContents("toc");

    addAssistButton('Check Article', onCheckArticle);
    /*
    addAssistButton('Add Image Scalar', addImageScalar);
    addAssistButton('Close Image Scalar', function() {
        for (let elem of document.getElementsByClassName('imagescalar-content')) {
            elem.style.display = 'none';
        }
    });
    addImageScalar();
    */
    adjustImageSize();

    //document.addEventListener('DOMContentLoaded', adjustImageSize);

    const titleNode = document.querySelector('h1')
    document.title = titleNode ? titleNode.innerHTML : 'Document';

    document.querySelector('.assist-toggle-button').addEventListener('click', function() {
        document.getElementById('assist').classList.toggle('selection-toggle');
    });
</script>
</body>
</html>
